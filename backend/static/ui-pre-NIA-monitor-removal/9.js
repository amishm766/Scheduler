(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{YuuO:function(e,r,s){"use strict";s.r(r),s.d(r,"AuthModule",function(){return Q});var a=s("ofXK"),n=s("3Pt+"),l=s("tyNb"),o=s("nY8K"),i=s("Yrtq"),t=s("quSY"),c=s("fXoL"),u=s("RL7/"),b=s("TaiC");function d(e,r){1&e&&(c.Lb(0,"small",18),c.oc(1),c.Kb()),2&e&&(c.wb(1),c.pc("Username is Mandatory."))}function m(e,r){1&e&&(c.Lb(0,"small",18),c.oc(1),c.Kb()),2&e&&(c.wb(1),c.pc("Password is Mandatory."))}const p=function(e,r){return{"is-invalid":e,"is-valid":r}},g=function(e,r){return{"form-valid":e,"form-invalid":r}},f=function(){return["/auth/register"]};let v=(()=>{class e{constructor(e,r,s){this._auth=e,this._userService=r,this._router=s,this.isValid=i.b,this.isInValid=i.a,this.subscriptions=t.a,this.signInForm=o.a.LoginForm()}value(e){return this.signInForm.controls[e]}ngOnInit(){}signIn(){this._auth.LogIn(this.signInForm.value).subscribe(e=>{sessionStorage.setItem("userToken",JSON.stringify(e)),this._changeLoggedInUser(e.user),this._router.navigate(["/"])})}_changeLoggedInUser(e){this._userService.setLoggedInUser$(e)}ngOnDestroy(){}}return e.\u0275fac=function(r){return new(r||e)(c.Gb(u.a),c.Gb(b.a),c.Gb(l.f))},e.\u0275cmp=c.Ab({type:e,selectors:[["app-login"]],decls:27,vars:18,consts:[[1,"login"],[1,"form-wrapper"],[1,"row"],[1,"col-lg-1","col-md-1"],[1,"col-md-8","col-lg-5"],[3,"formGroup"],[1,"form-group","mt-5","mb-5"],[1,"form-heading"],[1,"form-group","mt-3"],["for","username",1,"form-label","required"],["autofocus","","type","text","id","username","autocomplete","username","formControlName","username",1,"form-control","highlight",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"form-group"],["for","password",1,"form-label","required"],["required","","id","password","type","password","formControlName","password",1,"form-control","highlight",3,"ngClass"],["type","submit",1,"btn",3,"disabled","ngClass","click"],[3,"routerLink"],[1,"col-md-3","col-lg-6"],[1,"invalid-feedback"]],template:function(e,r){1&e&&(c.Lb(0,"div",0),c.Lb(1,"div",1),c.Lb(2,"div",2),c.Hb(3,"div",3),c.Lb(4,"div",4),c.Lb(5,"form",5),c.Lb(6,"div",6),c.Lb(7,"h2",7),c.oc(8,"Sign In"),c.Kb(),c.Lb(9,"div",8),c.Lb(10,"label",9),c.oc(11,"Username"),c.Kb(),c.Hb(12,"input",10),c.mc(13,d,2,1,"small",11),c.Kb(),c.Lb(14,"div",12),c.Lb(15,"label",13),c.oc(16,"Password"),c.Kb(),c.Hb(17,"input",14),c.mc(18,m,2,1,"small",11),c.Kb(),c.Lb(19,"div",12),c.Lb(20,"button",15),c.Sb("click",function(){return r.signIn()}),c.oc(21," Sign In "),c.Kb(),c.Kb(),c.Lb(22,"small",12),c.oc(23,"Not registered yet? "),c.Lb(24,"a",16),c.oc(25,"Register Here"),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Hb(26,"div",17),c.Kb(),c.Kb(),c.Kb()),2&e&&(c.wb(5),c.cc("formGroup",r.signInForm),c.wb(7),c.cc("ngClass",c.fc(8,p,r.isInValid(r.value("username")),r.isValid(r.value("username")))),c.wb(1),c.cc("ngIf",r.value("username").touched&&(null==r.value("username").errors?null:r.value("username").errors.required)),c.wb(4),c.cc("ngClass",c.fc(11,p,r.isInValid(r.value("password")),r.isValid(r.value("password")))),c.wb(1),c.cc("ngIf",r.value("password").touched&&(null==r.value("password").errors?null:r.value("password").errors.required)),c.wb(2),c.cc("disabled",r.signInForm.invalid)("ngClass",c.fc(14,g,!r.signInForm.invalid,r.signInForm.invalid)),c.wb(4),c.cc("routerLink",c.dc(17,f)))},directives:[n.s,n.j,n.f,n.b,n.i,n.e,a.l,a.n,n.o,l.h],styles:[""]}),e})();const w=function(){return["/auth/login"]};let h=(()=>{class e{constructor(e,r,s){this._router=e,this._auth=r,this._userService=s,this.notification={}}ngOnInit(){this.loggedInUser=this._userService.loggedInUser,this.logout()}logout(){this.loggedInUser?this._auth.LogOut().subscribe(e=>{sessionStorage.clear(),this._userService.setLoggedInUser$({})}):this._router.navigate(["/auth"])}ngOnDestroy(){}}return e.\u0275fac=function(r){return new(r||e)(c.Gb(l.f),c.Gb(u.a),c.Gb(b.a))},e.\u0275cmp=c.Ab({type:e,selectors:[["app-logout"]],decls:13,vars:3,consts:[[1,"logout"],[1,"row"],[1,"col-md-2"],[1,"col-md-8"],[3,"routerLink"]],template:function(e,r){1&e&&(c.Lb(0,"div",0),c.Lb(1,"div",1),c.Hb(2,"div",2),c.Lb(3,"div",3),c.Lb(4,"div",1),c.Lb(5,"h3"),c.oc(6,"Logged out."),c.Kb(),c.Lb(7,"h4"),c.oc(8),c.Kb(),c.Kb(),c.Lb(9,"div",1),c.Lb(10,"a",4),c.oc(11,"Log in again"),c.Kb(),c.Kb(),c.Kb(),c.Hb(12,"div",2),c.Kb(),c.Kb()),2&e&&(c.wb(8),c.qc(" ","Thanks for spending some quality time with the Web site today."," "),c.wb(2),c.cc("routerLink",c.dc(2,w)))},directives:[l.h],styles:[""]}),e})();var L=s("PqYM"),K=s("vkgz"),I=s("eIep"),y=s("w1tV");function U(e,r){1&e&&(c.Lb(0,"small",25),c.oc(1),c.Kb()),2&e&&(c.wb(1),c.pc("Username is already Taken."))}function C(e,r){1&e&&(c.Lb(0,"small",25),c.oc(1),c.Kb()),2&e&&(c.wb(1),c.pc("Username is Mandatory."))}function _(e,r){1&e&&(c.Lb(0,"small",26),c.oc(1),c.Kb()),2&e&&(c.wb(1),c.qc(" ","*Username need atleast 3 characters."," "))}function q(e,r){if(1&e&&(c.Lb(0,"small",26),c.oc(1),c.Kb()),2&e){const e=c.Wb(2);c.wb(1),c.sc("","*Username need"," ",(null==e.value("username").errors?null:e.value("username").errors.minlength.requiredLength)-(null==e.value("username").errors?null:e.value("username").errors.minlength.actualLength)," ","more characters.","")}}function k(e,r){1&e&&(c.Lb(0,"small",25),c.oc(1),c.Kb()),2&e&&(c.wb(1),c.pc("Email is already Taken."))}function S(e,r){1&e&&(c.Lb(0,"small",25),c.oc(1),c.Kb()),2&e&&(c.wb(1),c.pc("Enter email in valid format."))}function F(e,r){1&e&&(c.Lb(0,"small",25),c.oc(1),c.Kb()),2&e&&(c.wb(1),c.pc("Email is Mandatory."))}function V(e,r){1&e&&(c.Lb(0,"small",25),c.oc(1),c.Kb()),2&e&&(c.wb(1),c.pc("Enter password in valid format."))}function H(e,r){1&e&&(c.Lb(0,"small",25),c.oc(1),c.Kb()),2&e&&(c.wb(1),c.pc("Password is Mandatory."))}function N(e,r){1&e&&(c.Lb(0,"span"),c.oc(1),c.Kb()),2&e&&(c.wb(1),c.pc("*Need 8 characters including a number,an Uppercase and lowercase letter."))}function O(e,r){if(1&e&&c.mc(0,N,2,1,"span",5),2&e){const e=c.Wb(3);c.cc("ngIf",!e.isValid(e.value("password")))}}function G(e,r){1&e&&(c.Lb(0,"span"),c.oc(1),c.Kb()),2&e&&(c.wb(1),c.pc("characters, "))}function E(e,r){1&e&&(c.Lb(0,"span"),c.oc(1),c.Kb()),2&e&&(c.wb(1),c.pc("character, "))}function j(e,r){if(1&e&&(c.Lb(0,"span"),c.oc(1),c.mc(2,G,2,1,"span",5),c.mc(3,E,2,1,"span",5),c.Kb()),2&e){const e=c.Wb(4);c.wb(1),c.qc(" ",(null==e.value("password").errors?null:e.value("password").errors.minlength.requiredLength)-(null==e.value("password").errors?null:e.value("password").errors.minlength.actualLength)," "),c.wb(1),c.cc("ngIf",(null==e.value("password").errors?null:e.value("password").errors.minlength.requiredLength)-(null==e.value("password").errors?null:e.value("password").errors.minlength.actualLength)>1),c.wb(1),c.cc("ngIf",(null==e.value("password").errors?null:e.value("password").errors.minlength.requiredLength)-(null==e.value("password").errors?null:e.value("password").errors.minlength.actualLength)<=1)}}function M(e,r){1&e&&(c.Lb(0,"span"),c.oc(1),c.Kb()),2&e&&(c.wb(1),c.pc("a number, "))}function T(e,r){1&e&&(c.Lb(0,"span"),c.oc(1),c.Kb()),2&e&&(c.wb(1),c.pc("an Uppercase "))}function P(e,r){1&e&&(c.Lb(0,"span"),c.oc(1),c.Kb()),2&e&&(c.wb(1),c.qc("","and lowercase"," "))}function W(e,r){1&e&&(c.Lb(0,"span"),c.oc(1),c.Kb()),2&e&&(c.wb(1),c.pc(" letter."))}function x(e,r){if(1&e&&(c.Lb(0,"div"),c.oc(1," *Need "),c.mc(2,j,4,3,"span",5),c.mc(3,M,2,1,"span",5),c.mc(4,T,2,1,"span",5),c.mc(5,P,2,1,"span",5),c.mc(6,W,2,1,"span",5),c.Kb()),2&e){const e=c.Wb(3);c.wb(2),c.cc("ngIf",null==e.value("password").errors?null:e.value("password").errors.minlength),c.wb(1),c.cc("ngIf",null==e.value("password").errors?null:e.value("password").errors.hasNumber),c.wb(1),c.cc("ngIf",null==e.value("password").errors?null:e.value("password").errors.hasCapitalCase),c.wb(1),c.cc("ngIf",null==e.value("password").errors?null:e.value("password").errors.hasSmallCase),c.wb(1),c.cc("ngIf",(null==e.value("password").errors?null:e.value("password").errors.hasSmallCase)||(null==e.value("password").errors?null:e.value("password").errors.hasCapitalCase))}}function Y(e,r){if(1&e&&(c.Lb(0,"small",26),c.mc(1,O,1,1,"ng-template",null,27,c.nc),c.mc(3,x,7,5,"div",28),c.Kb()),2&e){const e=c.hc(2),r=c.Wb(2);c.wb(3),c.cc("ngIf",r.value("password").dirty&&r.value("password").errors&&!(null!=r.value("password").errors&&r.value("password").errors.required))("ngIfElse",e)}}const $=function(e,r){return{"is-invalid":e,"is-valid":r}},D=function(e,r){return{"is-valid":e,"is-invalid":r}},R=function(e,r){return{"form-valid":e,"form-invalid":r}};function A(e,r){if(1&e){const e=c.Mb();c.Lb(0,"div"),c.Lb(1,"form",8),c.Lb(2,"div",9),c.Lb(3,"h4",10),c.oc(4,"Register"),c.Kb(),c.Lb(5,"div",9),c.Lb(6,"label",11),c.oc(7,"Username"),c.Kb(),c.Hb(8,"input",12),c.Lb(9,"div",13),c.oc(10,"Username is available."),c.Kb(),c.mc(11,U,2,1,"small",14),c.mc(12,C,2,1,"small",14),c.mc(13,_,2,1,"small",15),c.mc(14,q,2,3,"small",15),c.Kb(),c.Lb(15,"div",9),c.Lb(16,"label",16),c.oc(17,"First Name"),c.Kb(),c.Hb(18,"input",17),c.Kb(),c.Lb(19,"div",9),c.Lb(20,"label",18),c.oc(21,"Last Name"),c.Kb(),c.Hb(22,"input",19),c.Kb(),c.Lb(23,"div",9),c.Lb(24,"label",20),c.oc(25,"Email"),c.Kb(),c.Hb(26,"input",21),c.Lb(27,"div",13),c.oc(28,"Email is available."),c.Kb(),c.mc(29,k,2,1,"small",14),c.mc(30,S,2,1,"small",14),c.mc(31,F,2,1,"small",14),c.Kb(),c.Lb(32,"div",9),c.Lb(33,"label",22),c.oc(34,"Password"),c.Kb(),c.Hb(35,"input",23),c.Lb(36,"div",13),c.oc(37,"Password is in Valid format."),c.Kb(),c.mc(38,V,2,1,"small",14),c.mc(39,H,2,1,"small",14),c.mc(40,Y,4,2,"small",15),c.Kb(),c.Lb(41,"button",24),c.Sb("click",function(){return c.jc(e),c.Wb().signUp()}),c.oc(42," Register "),c.Kb(),c.Kb(),c.Kb(),c.Kb()}if(2&e){const e=c.Wb();c.wb(1),c.cc("formGroup",e.signUpForm),c.wb(7),c.cc("ngClass",c.fc(16,$,e.isInValid(e.value("username")),e.isValid(e.value("username")))),c.wb(3),c.cc("ngIf",null==e.value("username").errors?null:e.value("username").errors.alreadyTakenError),c.wb(1),c.cc("ngIf",e.value("username").touched&&(null==e.value("username").errors?null:e.value("username").errors.required)),c.wb(1),c.cc("ngIf",!e.value("username").dirty||(null==e.value("username").errors?null:e.value("username").errors.required)),c.wb(1),c.cc("ngIf",(null==e.value("username").errors?null:e.value("username").errors.minlength)&&e.value("username").dirty),c.wb(12),c.cc("ngClass",c.fc(19,D,e.isValid(e.value("email")),e.isInValid(e.value("email")))),c.wb(3),c.cc("ngIf",null==e.value("email").errors?null:e.value("email").errors.alreadyTakenError),c.wb(1),c.cc("ngIf",e.isInValid(e.value("email"))&&(null==e.value("email").errors?null:e.value("email").errors.pattern)),c.wb(1),c.cc("ngIf",e.value("email").touched&&(null==e.value("email").errors?null:e.value("email").errors.required)),c.wb(4),c.cc("ngClass",c.fc(22,D,e.isValid(e.value("password")),e.isInValid(e.value("password")))),c.wb(3),c.cc("ngIf",e.value("password").touched&&(null==e.value("password").errors?null:e.value("password").errors.pattern)),c.wb(1),c.cc("ngIf",e.value("password").touched&&(null==e.value("password").errors?null:e.value("password").errors.required)),c.wb(1),c.cc("ngIf",(null==e.value("password").errors?null:e.value("password").errors.required)||e.value("password").dirty),c.wb(1),c.cc("disabled",e.signUpForm.invalid)("ngClass",c.fc(25,R,!e.signUpForm.invalid,e.signUpForm.invalid))}}function X(e,r){1&e&&(c.Lb(0,"div",29),c.Hb(1,"div",30),c.Kb())}const J=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"login",component:v},{path:"logout",component:h},{path:"register",component:(()=>{class e{constructor(e,r,s){this._auth=e,this._userService=r,this._router=s,this.isValid=i.b,this.isInValid=i.a}value(e){return this.signUpForm.controls[e]}ngOnInit(){this.allUsers$=Object(L.a)(0,2e3).pipe(Object(K.a)(console.log),Object(I.a)(e=>this._userService.allUsers$),Object(K.a)(e=>{this.signUpForm||(this.signUpForm=o.a.SignUpForm(e))}),Object(y.a)())}signUp(){this.signUpSubs=this._auth.Register(this.signUpForm.value).subscribe(e=>{alert("Hit the link sent to "+e.user.email+" to activate acount"),this._router.navigate(["/auth"])})}ngOnDestroy(){this.signUpSubs&&this.signUpSubs.unsubscribe()}}return e.\u0275fac=function(r){return new(r||e)(c.Gb(u.a),c.Gb(b.a),c.Gb(l.f))},e.\u0275cmp=c.Ab({type:e,selectors:[["app-register"]],decls:10,vars:6,consts:[[1,"register"],[1,"form-wrapper"],[1,"row"],[1,"col-lg-1","col-md-1"],[1,"col-md-8","col-lg-5"],[4,"ngIf"],["class","text-center",4,"ngIf"],[1,"col-md-3","col-lg-6"],[3,"formGroup"],[1,"form-group"],[1,"form-heading"],["for","username",1,"form-label","required"],["type","text","id","username","formControlName","username",1,"form-control","highlight",3,"ngClass"],[1,"valid-feedback"],["class","invalid-feedback",4,"ngIf"],["style","color: grey",4,"ngIf"],["for","first_name",1,"form-label"],["type","text","id","first_name","formControlName","first_name",1,"form-control","highlight"],["for","last_name",1,"form-label"],["type","text","id","last_name","formControlName","last_name",1,"form-control","highlight"],["for","email",1,"form-label","required"],["id","email","type","email","formControlName","email",1,"form-control","highlight",3,"ngClass"],["for","password",1,"form-label","required"],["id","password","type","password","formControlName","password",1,"form-control","highlight",3,"ngClass"],["type","submit",1,"btn",3,"disabled","ngClass","click"],[1,"invalid-feedback"],[2,"color","grey"],["initialText",""],[4,"ngIf","ngIfElse"],[1,"text-center"],[1,"fa","fa-spinner","fa-spin"]],template:function(e,r){1&e&&(c.Lb(0,"div",0),c.Lb(1,"div",1),c.Lb(2,"div",2),c.Hb(3,"div",3),c.Lb(4,"div",4),c.mc(5,A,43,28,"div",5),c.Xb(6,"async"),c.mc(7,X,2,0,"div",6),c.Xb(8,"async"),c.Kb(),c.Hb(9,"div",7),c.Kb(),c.Kb(),c.Kb()),2&e&&(c.wb(5),c.cc("ngIf",c.Yb(6,2,r.allUsers$)),c.wb(2),c.cc("ngIf",!c.Yb(8,4,r.allUsers$)))},directives:[a.n,n.s,n.j,n.f,n.b,n.i,n.e,a.l],pipes:[a.b],styles:[""]}),e})()}];let z=(()=>{class e{}return e.\u0275mod=c.Eb({type:e}),e.\u0275inj=c.Db({factory:function(r){return new(r||e)},imports:[[l.i.forChild(J)],l.i]}),e})();var B=s("PCNd");let Q=(()=>{class e{}return e.\u0275mod=c.Eb({type:e}),e.\u0275inj=c.Db({factory:function(r){return new(r||e)},imports:[[a.c,n.n,B.a,z]]}),e})()}}]);