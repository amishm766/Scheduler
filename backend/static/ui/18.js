(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{pDDa:function(e,r,t){"use strict";t.r(r),t.d(r,"TriggerModule",function(){return le});var i=t("ofXK"),o=t("tyNb"),n=t("itXk"),c=t("Kj3r"),s=t("/uUt"),a=t("eIep"),b=t("vkgz"),l=t("w1tV"),g=t("3Pt+"),m=t("O4FM");class d{constructor(e){this._formBuilder=e}InitForm(){return this._formBuilder.group({server:new m.a.CreateServer(this._formBuilder).InItForm(),releaseKey:["",[g.q.required]],triggerName:[null,[g.q.required]],processName:["",[g.q.required]],tenancyName:["",[g.q.required]],processInputs:(new g.d).array([])})}initProcessInputRows(e,r){return this._formBuilder.group({name:[e,g.q.required],value:[r]})}}var p=t("gR9L"),u=t("fXoL"),f=t("p044"),h=t("OM6d"),v=t("tk/3"),y=t("V73k"),L=t("lJxs");let w=(()=>{class e{constructor(e){this._http=e}GetAllProcessDetails(e,r){const t=(new v.e).set("serverName",e).set("tenancyName",r);return this._http.get(y.d.API_URL+"processes/",{params:t}).pipe(Object(L.a)(e=>e["process-details"]),Object(l.a)())}GetProcessDetailsByProcessName(e,r,t){const i=(new v.e).set("processName",t).set("serverName",e).set("tenancyName",r);return this._http.get(y.d.API_URL+"processes/",{params:i}).pipe(Object(L.a)(e=>e["process-details"][0]),Object(l.a)())}}return e.\u0275fac=function(r){return new(r||e)(u.Pb(v.b))},e.\u0275prov=u.Cb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var K=t("4Kj8");function N(e,r){if(1&e&&(u.Lb(0,"option",40),u.oc(1),u.Kb()),2&e){const e=r.$implicit;u.cc("value",e.serverName),u.wb(1),u.qc(" ",e.serverName," ")}}function S(e,r){1&e&&(u.Lb(0,"app-spinner",41),u.oc(1,"Select Server First..."),u.Kb())}function T(e,r){1&e&&(u.Lb(0,"select",42),u.Lb(1,"option",16),u.oc(2,"Select a Tanancy name..."),u.Kb(),u.Lb(3,"option",43),u.oc(4,"Default"),u.Kb(),u.Kb())}function I(e,r){1&e&&(u.Lb(0,"app-spinner",41),u.oc(1,"Select Tenancy First..."),u.Kb())}function O(e,r){1&e&&(u.Lb(0,"app-spinner",41),u.oc(1,"Fetching processes..."),u.Kb())}function F(e,r){if(1&e&&(u.Lb(0,"option",40),u.oc(1),u.Kb()),2&e){const e=r.$implicit;u.cc("value",e.processName),u.wb(1),u.qc(" ",e.processName," ")}}function U(e,r){1&e&&(u.Lb(0,"app-spinner",41),u.oc(1,"Select Server First..."),u.Kb())}function _(e,r){1&e&&u.Hb(0,"input",44)}function x(e,r){1&e&&(u.Lb(0,"app-spinner",41),u.oc(1,"Select Server First..."),u.Kb())}function C(e,r){1&e&&u.Hb(0,"input",45)}function P(e,r){1&e&&(u.Lb(0,"app-spinner",41),u.oc(1,"Select Server First..."),u.Kb())}function j(e,r){1&e&&u.Hb(0,"input",46)}function $(e,r){if(1&e){const e=u.Mb();u.Lb(0,"div",49),u.Lb(1,"div",5),u.Lb(2,"div",50),u.Hb(3,"textarea",51),u.Kb(),u.Lb(4,"div",52),u.Hb(5,"textarea",53),u.Kb(),u.Lb(6,"div",54),u.Lb(7,"i",55),u.Sb("click",function(){u.jc(e);const t=r.index;return u.Wb(3).deleteProcessInput(t)}),u.Kb(),u.Kb(),u.Kb(),u.Kb()}2&e&&u.cc("formGroupName",r.index)}function G(e,r){if(1&e&&(u.Lb(0,"div",5),u.Lb(1,"div",47),u.mc(2,$,8,1,"div",48),u.Kb(),u.Kb()),2&e){const e=u.Wb(2);u.wb(2),u.cc("ngForOf",e.formsArr.controls)}}const k=function(e){return{display:e}},A=function(e,r){return{"form-valid":e,"form-invalid":r}};function D(e,r){if(1&e){const e=u.Mb();u.Lb(0,"div",3),u.Lb(1,"form",4),u.Lb(2,"div",5),u.Hb(3,"div",6),u.Lb(4,"div",7),u.Lb(5,"div",5),u.Lb(6,"div",8),u.Lb(7,"label",9),u.oc(8,"Trigger Name"),u.Kb(),u.Hb(9,"input",10),u.Kb(),u.Lb(10,"div",11),u.Lb(11,"div",12),u.Lb(12,"div",13),u.Lb(13,"label",14),u.oc(14,"Server Name"),u.Kb(),u.Lb(15,"select",15),u.Lb(16,"option",16),u.oc(17,"Select a server..."),u.Kb(),u.mc(18,N,2,2,"option",17),u.Kb(),u.Kb(),u.Kb(),u.Lb(19,"div",18),u.Lb(20,"label",19),u.oc(21,"Tenancy Name"),u.Kb(),u.mc(22,S,2,0,"app-spinner",20),u.Xb(23,"async"),u.mc(24,T,5,0,"select",21),u.Xb(25,"async"),u.Kb(),u.Lb(26,"div",22),u.Lb(27,"label",23),u.oc(28,"Process Name"),u.Kb(),u.mc(29,I,2,0,"app-spinner",20),u.Xb(30,"async"),u.mc(31,O,2,0,"app-spinner",20),u.Lb(32,"select",24),u.Lb(33,"option",16),u.oc(34,"Select a process..."),u.Kb(),u.mc(35,F,2,2,"option",17),u.Xb(36,"async"),u.Kb(),u.Kb(),u.Kb(),u.Lb(37,"div",11),u.Lb(38,"div",12),u.Lb(39,"div",25),u.Lb(40,"label",26),u.oc(41,"Login URL"),u.Kb(),u.mc(42,U,2,0,"app-spinner",20),u.Xb(43,"async"),u.mc(44,_,1,0,"input",27),u.Xb(45,"async"),u.Kb(),u.Lb(46,"div",28),u.Lb(47,"label",29),u.oc(48,"Releases URL"),u.Kb(),u.mc(49,x,2,0,"app-spinner",20),u.Xb(50,"async"),u.mc(51,C,1,0,"input",30),u.Xb(52,"async"),u.Kb(),u.Lb(53,"div",31),u.Lb(54,"label",26),u.oc(55,"Start Job URL"),u.Kb(),u.mc(56,P,2,0,"app-spinner",20),u.Xb(57,"async"),u.mc(58,j,1,0,"input",32),u.Xb(59,"async"),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.Lb(60,"div",33),u.Lb(61,"div",34),u.Lb(62,"div",35),u.oc(63,"Process Inputs"),u.Kb(),u.Kb(),u.Lb(64,"div",34),u.Lb(65,"button",36),u.Sb("click",function(){return u.jc(e),u.Wb().addProcessInput("","")}),u.oc(66," Add new Input "),u.Kb(),u.Kb(),u.Kb(),u.mc(67,G,3,1,"div",37),u.Xb(68,"async"),u.Lb(69,"div",38),u.Lb(70,"button",39),u.Sb("click",function(){return u.jc(e),u.Wb().AddTrigger()}),u.oc(71," Save "),u.Kb(),u.Kb(),u.Kb(),u.Hb(72,"div",6),u.Kb(),u.Kb(),u.Kb()}if(2&e){const e=r.ngIf,t=u.Wb();u.wb(1),u.cc("formGroup",t.createTriggerForm),u.wb(17),u.cc("ngForOf",e),u.wb(4),u.cc("ngIf",!u.Yb(23,19,t.selectedServer$)),u.wb(2),u.cc("ngIf",u.Yb(25,21,t.selectedServer$)),u.wb(5),u.cc("ngIf",!u.Yb(30,23,t.selectedTenancy$)),u.wb(2),u.cc("ngIf",t.isTenancySelected&&!t.areAllProcessDetailsFetched),u.wb(1),u.cc("ngStyle",u.ec(41,k,t.areAllProcessDetailsFetched?"":"none")),u.wb(3),u.cc("ngForOf",u.Yb(36,25,t.allProcessDetails$)),u.wb(7),u.cc("ngIf",!u.Yb(43,27,t.selectedServer$)),u.wb(2),u.cc("ngIf",u.Yb(45,29,t.selectedServer$)),u.wb(5),u.cc("ngIf",!u.Yb(50,31,t.selectedServer$)),u.wb(2),u.cc("ngIf",u.Yb(52,33,t.selectedServer$)),u.wb(5),u.cc("ngIf",!u.Yb(57,35,t.selectedServer$)),u.wb(2),u.cc("ngIf",u.Yb(59,37,t.selectedServer$)),u.wb(7),u.cc("disabled",t.createTriggerForm.invalid)("ngClass",u.fc(43,A,!t.createTriggerForm.invalid,t.createTriggerForm.invalid)),u.wb(2),u.cc("ngIf",u.Yb(68,39,t.processDetails$)),u.wb(3),u.cc("disabled",t.createTriggerForm.invalid)("ngClass",u.fc(46,A,!t.createTriggerForm.invalid,t.createTriggerForm.invalid))}}function X(e,r){1&e&&(u.Lb(0,"app-spinner",56),u.oc(1),u.Kb()),2&e&&(u.cc("spinnerColor","#428bca")("spinnerSize","1.5rem"),u.wb(1),u.pc(" Fetching data from backend....."))}let Y=(()=>{class e{constructor(e,r,t,i,o){this._router=e,this._formBuilder=r,this._triggersService=t,this._serversService=i,this._apiService=o,this.isTenancySelected=!1,this.areAllProcessDetailsFetched=!1}ngOnInit(){this.createTriggerForm=new d(this._formBuilder).InitForm(),this.allServers$=this._serversService.GetAllServers$(),this.selectedServer$=this.createTriggerForm.controls.server.controls.serverName.valueChanges.pipe(Object(c.a)(500),Object(s.a)(),Object(a.a)(e=>this._serversService.GetServerByServerName(e)),Object(b.a)(e=>{this.createTriggerForm.controls.server.patchValue(Object.assign({},e)),console.log(this.createTriggerForm.value)}),Object(l.a)()),this.selectedTenancy$=this.createTriggerForm.controls.tenancyName.valueChanges.pipe(Object(b.a)(e=>this.isTenancySelected=!0)),this.allProcessDetails$=Object(n.a)([this.selectedServer$,this.selectedTenancy$]).pipe(Object(a.a)(([e,r])=>this._apiService.GetAllProcessDetails(e.serverName,r)),Object(b.a)(e=>this.areAllProcessDetailsFetched=!0),Object(l.a)()),this.selectedProcess$=this.createTriggerForm.controls.processName.valueChanges,this.processDetails$=Object(n.a)([this.selectedServer$,this.selectedProcess$]).pipe(Object(a.a)(([e,r])=>this._apiService.GetProcessDetailsByProcessName(e.serverName,"Default",r)),Object(b.a)(e=>{this.createTriggerForm.patchValue({releaseKey:e.releaseKey}),e.processInputs.forEach(e=>{this.addProcessInput(e,"")})}),Object(l.a)())}get formsArr(){return this.createTriggerForm.get("processInputs")}addProcessInput(e,r){this.formsArr.push(new d(this._formBuilder).initProcessInputRows(e,r))}deleteProcessInput(e){this.formsArr.removeAt(e)}AddTrigger(){this.addTriggerSubs=this._triggersService.AddTrigger(this.createTriggerForm.value).subscribe(e=>{this._router.navigate([p.a.getRoutePathByName("trigger-view-all")])},e=>{console.log(e),alert(e.message)})}ngOnDestroy(){this.addTriggerSubs&&this.addTriggerSubs.unsubscribe()}}return e.\u0275fac=function(r){return new(r||e)(u.Gb(o.f),u.Gb(g.d),u.Gb(f.a),u.Gb(h.a),u.Gb(w))},e.\u0275cmp=u.Ab({type:e,selectors:[["app-create-trigger"]],hostBindings:function(e,r){1&e&&u.Sb("beforeunload",function(){return r.ngOnDestroy()},!1,u.ic)},decls:5,vars:6,consts:[[1,"create-trigger"],["class","form-wrapper mt-3",4,"ngIf"],[3,"spinnerColor","spinnerSize",4,"ngIf"],[1,"form-wrapper","mt-3"],[3,"formGroup"],[1,"row"],[1,"col-md-1"],[1,"col-md-10"],[1,"form-group","triggerName"],["for","triggerName",1,"form-label","required"],["id","triggerName","name","triggerName","formControlName","triggerName",1,"form-control","highlight"],[1,"col-md-6"],["formGroupName","server"],[1,"form-group","serverName"],["for","serverName",1,"form-label","required"],["id","serverName","name","serverName","formControlName","serverName",1,"form-control","highlight"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","tenancyName"],["for","tenancyName",1,"form-label","required"],["class","form-control highlight","spinnerColor","#428bca",4,"ngIf"],["id","tenancyName","name","tenancyName","class","form-control highlight","formControlName","tenancyName",4,"ngIf"],[1,"form-group","processName"],["for","processName",1,"form-label","required"],["id","processName","name","processName","formControlName","processName",1,"form-control","highlight",3,"ngStyle"],[1,"form-group","loginUrl"],["for","loginUrl",1,"form-label","required"],["type","text","id","loginUrl","name","loginUrl","formControlName","loginUrl","class","form-control highlight",4,"ngIf"],[1,"form-group","releasesUrl"],["for","releasesUrl",1,"form-label","required"],["type","text","id","releasesUrl","name","releasesUrl","formControlName","releasesUrl","class","form-control highlight",4,"ngIf"],[1,"form-group","startJobUrl"],["type","text","id","startJobUrl","name","startJobUrl","formControlName","startJobUrl","class","form-control highlight",4,"ngIf"],[1,"row","form-group"],[1,"col-md-6","col-sm-12"],[1,"form-heading"],["type","button",1,"btn","btn-success","pull-right",3,"disabled","ngClass","click"],["class","row",4,"ngIf"],[1,"form-group"],["type","submit",1,"btn","btn-primary",3,"disabled","ngClass","click"],[3,"value"],["spinnerColor","#428bca",1,"form-control","highlight"],["id","tenancyName","name","tenancyName","formControlName","tenancyName",1,"form-control","highlight"],["value","Default"],["type","text","id","loginUrl","name","loginUrl","formControlName","loginUrl",1,"form-control","highlight"],["type","text","id","releasesUrl","name","releasesUrl","formControlName","releasesUrl",1,"form-control","highlight"],["type","text","id","startJobUrl","name","startJobUrl","formControlName","startJobUrl",1,"form-control","highlight"],["formArrayName","processInputs",1,"form-group"],["class","form-group",3,"formGroupName",4,"ngFor","ngForOf"],[1,"form-group",3,"formGroupName"],[1,"col-sm-4"],["type","text","formControlName","name",1,"form-control","highlight"],[1,"col-sm-7"],["formControlName","value",1,"form-control","highlight"],[1,"col-sm-1"],["type","button",1,"fa","fa-remove","text-center",3,"click"],[3,"spinnerColor","spinnerSize"]],template:function(e,r){1&e&&(u.Lb(0,"div",0),u.mc(1,D,73,49,"div",1),u.Xb(2,"async"),u.mc(3,X,2,3,"app-spinner",2),u.Xb(4,"async"),u.Kb()),2&e&&(u.wb(1),u.cc("ngIf",u.Yb(2,2,r.allServers$)),u.wb(2),u.cc("ngIf",!u.Yb(4,4,r.allServers$)))},directives:[i.n,g.s,g.j,g.f,g.b,g.i,g.e,g.g,g.p,g.l,g.r,i.m,i.o,i.l,K.a,g.c],pipes:[i.b],styles:[""]}),e})();var q=t("rRiM"),H=t("Bu0h");let B=(()=>{class e{transform(e,...r){return"number"==typeof e?e.toString():e.serverName||"NA"}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=u.Fb({name:"uipathServerName",type:e,pure:!0}),e})(),E=(()=>{class e{constructor(e,r,t){this._router=e,this._triggersService=r,this._schedulesService=t,this.deletedTrigger=new u.n}ngOnInit(){}EditTrigger(e){this._triggersService.trigger=e,this._router.navigate([p.a.getRoutePathByName("trigger-home"),e.id,"edit"])}ViewTrigger(e){this._triggersService.trigger=e,this._router.navigate([p.a.getRoutePathByName("trigger-home"),e.id,"view"])}DeleteTrigger(e){confirm(`Do you want to delete the Trigger with name ${e.triggerName} ?\n\nThis will delete all the entities using this trigger i.e Schedules, Execution, etc.`)&&(this.deleteTriggerSubs=this._triggersService.DeleteTrigger(e.id).subscribe(e=>{this.deletedTrigger.emit(e)},e=>{console.log(e)}))}ExecuteTrigger(e){const r={id:0,status:"",occurOnceDateTime:null,recurringEndDate:null,recurringStartDate:null,recurringTime:null,recurringType:"Now",scheduleName:"Now",trigger:e.id,userName:JSON.parse(sessionStorage.getItem("userToken")||"").user.username};this.addScheduleSubs=this._schedulesService.AddSchedule(r).subscribe(e=>{this._router.navigate([p.a.getRoutePathByName("schedule-view"),"all"])},e=>{console.log(e)})}ngOnDestroy(){this.deleteTriggerSubs&&this.deleteTriggerSubs.unsubscribe(),this.addScheduleSubs&&this.addScheduleSubs.unsubscribe()}}return e.\u0275fac=function(r){return new(r||e)(u.Gb(o.f),u.Gb(f.a),u.Gb(H.a))},e.\u0275cmp=u.Ab({type:e,selectors:[["app-trigger"]],inputs:{trigger:"trigger",triggerIndex:"triggerIndex"},outputs:{deletedTrigger:"deletedTrigger"},decls:43,vars:7,consts:[[1,"trigger"],[1,"table","table-hover"],["scope","col"],["scope","row"],[3,"click"],["aria-hidden","true",1,"bi","bi-eye-fill","primary"],["aria-hidden","true",1,"bi","bi-pencil-square","secondary"],["aria-hidden","true",1,"bi","bi-play-circle-fill","success"],["aria-hidden","true",1,"bi","bi-archive-fill","danger"]],template:function(e,r){1&e&&(u.Lb(0,"div",0),u.Lb(1,"table",1),u.Lb(2,"thead"),u.Lb(3,"tr"),u.Lb(4,"th",2),u.oc(5,"#"),u.Kb(),u.Lb(6,"th",2),u.oc(7,"Name"),u.Kb(),u.Lb(8,"th",2),u.oc(9,"Process"),u.Kb(),u.Lb(10,"th",2),u.oc(11,"Tenancy"),u.Kb(),u.Lb(12,"th",2),u.oc(13,"Server"),u.Kb(),u.Lb(14,"th",2),u.oc(15,"View"),u.Kb(),u.Lb(16,"th",2),u.oc(17,"Edit"),u.Kb(),u.Lb(18,"th",2),u.oc(19,"Run"),u.Kb(),u.Lb(20,"th",2),u.oc(21,"Delete"),u.Kb(),u.Kb(),u.Kb(),u.Lb(22,"tbody"),u.Lb(23,"tr"),u.Lb(24,"th",3),u.oc(25),u.Kb(),u.Lb(26,"td"),u.oc(27),u.Kb(),u.Lb(28,"td"),u.oc(29),u.Kb(),u.Lb(30,"td"),u.oc(31),u.Kb(),u.Lb(32,"td"),u.oc(33),u.Xb(34,"uipathServerName"),u.Kb(),u.Lb(35,"td",4),u.Sb("click",function(){return r.ViewTrigger(r.trigger)}),u.Hb(36,"i",5),u.Kb(),u.Lb(37,"td",4),u.Sb("click",function(){return r.EditTrigger(r.trigger)}),u.Hb(38,"i",6),u.Kb(),u.Lb(39,"td",4),u.Sb("click",function(){return r.ExecuteTrigger(r.trigger)}),u.Hb(40,"i",7),u.Kb(),u.Lb(41,"td",4),u.Sb("click",function(){return r.DeleteTrigger(r.trigger)}),u.Hb(42,"i",8),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.Kb()),2&e&&(u.wb(25),u.pc(r.triggerIndex+1),u.wb(2),u.pc(r.trigger.triggerName),u.wb(2),u.pc(r.trigger.processName),u.wb(2),u.pc(r.trigger.tenancyName),u.wb(2),u.pc(u.Yb(34,5,r.trigger.server)))},pipes:[B],styles:[".trigger[_ngcontent-%COMP%]{margin:15px 30px;background-color:#eee;transition-duration:.3s;border-radius:25px!important;box-shadow:4px 3px 8px 0 grey;border:3px solid var(--color-secondary)}.trigger[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:4px 3px 11px 6px grey}"]}),e})(),R=(()=>{class e{constructor(e){this._commonService=e}transform(e){return this._commonService.searchBoxTypedKeywords="",Object(n.a)([e,this._commonService.searchBoxKeywords$]).pipe(Object(L.a)(([e,r])=>{let t=[];return""==r?t=e:e.forEach(e=>{const i=Object.values(e);for(var o in i)if((null==i[o]?"":i[o]).toString().toUpperCase().includes(r.toUpperCase())){t.push(e);break}}),t}))}}return e.\u0275fac=function(r){return new(r||e)(u.Gb(q.a))},e.\u0275pipe=u.Fb({name:"filterUipathTriggers",type:e,pure:!0}),e})();function J(e,r){if(1&e){const e=u.Mb();u.Lb(0,"app-trigger",8),u.Sb("deletedTrigger",function(r){return u.jc(e),u.Wb(3).onTriggerDelete(r)}),u.Kb()}if(2&e){const e=r.index;u.cc("trigger",r.$implicit)("triggerIndex",e)}}function W(e,r){1&e&&(u.Lb(0,"h4"),u.oc(1," No Trigger found as per the searched keyword. Try with some different keyword. "),u.Kb())}function M(e,r){1&e&&(u.Lb(0,"h4"),u.oc(1," No Trigger found to display "),u.Kb())}function V(e,r){if(1&e&&(u.Jb(0),u.mc(1,J,1,2,"app-trigger",4),u.Lb(2,"div",5),u.Hb(3,"div",6),u.Lb(4,"div",7),u.mc(5,W,2,0,"h4",3),u.Xb(6,"json"),u.Xb(7,"json"),u.mc(8,M,2,0,"h4",3),u.Xb(9,"json"),u.Kb(),u.Hb(10,"div",6),u.Kb(),u.Ib()),2&e){const e=r.ngIf,t=u.Wb().ngIf;u.wb(1),u.cc("ngForOf",e),u.wb(4),u.cc("ngIf",!("[]"==u.Yb(6,3,t))&&"[]"==u.Yb(7,5,e)),u.wb(3),u.cc("ngIf","[]"==u.Yb(9,7,t))}}function z(e,r){if(1&e&&(u.Lb(0,"div",2),u.mc(1,V,11,9,"ng-container",3),u.Xb(2,"async"),u.Xb(3,"filterUipathTriggers"),u.Kb()),2&e){const e=u.Wb();u.wb(1),u.cc("ngIf",u.Yb(2,1,u.Yb(3,3,e.allTriggers$)))}}function Q(e,r){1&e&&(u.Lb(0,"app-spinner",9),u.oc(1),u.Kb()),2&e&&(u.cc("spinnerColor","#428bca")("spinnerSize","1.5rem"),u.wb(1),u.pc(" Fetching data from backend....."))}function Z(e,r){1&e&&(u.Lb(0,"app-spinner",9),u.oc(1),u.Kb()),2&e&&(u.cc("spinnerColor","#428bca")("spinnerSize","1.5rem"),u.wb(1),u.pc(" Checking for search keyword from search box....."))}let ee=(()=>{class e{constructor(e,r){this._commonService=e,this._triggerService=r}ngOnInit(){this.allTriggers$=this._triggerService.GetAllTriggers()}onTriggerDelete(e){this.ngOnInit()}ngOnDestroy(){this._commonService.searchBoxTypedKeywords=""}}return e.\u0275fac=function(r){return new(r||e)(u.Gb(q.a),u.Gb(f.a))},e.\u0275cmp=u.Ab({type:e,selectors:[["app-list-trigger"]],decls:8,vars:13,consts:[["class","list-trigger",4,"ngIf"],[3,"spinnerColor","spinnerSize",4,"ngIf"],[1,"list-trigger"],[4,"ngIf"],[3,"trigger","triggerIndex","deletedTrigger",4,"ngFor","ngForOf"],[1,"no-matching-trigger","row"],[1,"col-md-2"],[1,"col-md-8"],[3,"trigger","triggerIndex","deletedTrigger"],[3,"spinnerColor","spinnerSize"]],template:function(e,r){1&e&&(u.mc(0,z,4,5,"div",0),u.Xb(1,"async"),u.mc(2,Q,2,3,"app-spinner",1),u.Xb(3,"async"),u.mc(4,Z,2,3,"app-spinner",1),u.Xb(5,"async"),u.Xb(6,"async"),u.Xb(7,"filterUipathTriggers")),2&e&&(u.cc("ngIf",u.Yb(1,3,r.allTriggers$)),u.wb(2),u.cc("ngIf",!u.Yb(3,5,r.allTriggers$)),u.wb(2),u.cc("ngIf",u.Yb(5,7,r.allTriggers$)&&!u.Yb(6,9,u.Yb(7,11,r.allTriggers$))))},directives:[i.n,i.m,E,K.a],pipes:[i.b,R,i.g],styles:[".list-trigger[_ngcontent-%COMP%]   .no-matching-trigger[_ngcontent-%COMP%]{margin-top:30px}"]}),e})();const re=function(e,r){return{"form-valid":e,"form-invalid":r}};function te(e,r){if(1&e){const e=u.Mb();u.Lb(0,"div",11),u.Lb(1,"button",36),u.Sb("click",function(){return u.jc(e),u.Wb(3).addProcessInput("","")}),u.oc(2," Add new Input "),u.Kb(),u.Kb()}if(2&e){const e=u.Wb(3);u.wb(1),u.cc("disabled",e.viewOrEditTriggerForm.invalid)("ngClass",u.fc(2,re,!e.viewOrEditTriggerForm.invalid,e.viewOrEditTriggerForm.invalid))}}function ie(e,r){if(1&e){const e=u.Mb();u.Lb(0,"div",37),u.Lb(1,"div",30),u.Lb(2,"div",38),u.Hb(3,"textarea",39),u.Kb(),u.Lb(4,"div",40),u.Hb(5,"textarea",41),u.Kb(),u.Lb(6,"div",42),u.Lb(7,"button",43),u.Sb("click",function(){u.jc(e);const t=r.index;return u.Wb(3).deleteProcessInput(t)}),u.Kb(),u.Kb(),u.Kb(),u.Kb()}if(2&e){const e=r.index,t=u.Wb(2).ngIf;u.cc("formGroupName",e),u.wb(3),u.cc("readonly","view"==t.mode),u.wb(2),u.cc("readonly","view"==t.mode),u.wb(2),u.cc("disabled","view"==t.mode)}}function oe(e,r){if(1&e){const e=u.Mb();u.Lb(0,"div",44),u.Lb(1,"button",45),u.Sb("click",function(){u.jc(e);const r=u.Wb().ngIf;return u.Wb(2).UpdateTrigger(r.id)}),u.oc(2," Update "),u.Kb(),u.Kb()}if(2&e){const e=u.Wb(3);u.wb(1),u.cc("disabled",e.viewOrEditTriggerForm.invalid)("ngClass",u.fc(2,re,!e.viewOrEditTriggerForm.invalid,e.viewOrEditTriggerForm.invalid))}}function ne(e,r){if(1&e&&(u.Lb(0,"div",3),u.Lb(1,"form",4),u.Lb(2,"div",5),u.Hb(3,"div",6),u.Lb(4,"div",7),u.Lb(5,"div",5),u.Lb(6,"div",8),u.Lb(7,"label",9),u.oc(8,"Trigger Name"),u.Kb(),u.Hb(9,"input",10),u.Kb(),u.Lb(10,"div",11),u.Lb(11,"div",12),u.Lb(12,"div",13),u.Lb(13,"label",14),u.oc(14,"Server Name"),u.Kb(),u.Hb(15,"input",15),u.Kb(),u.Kb(),u.Lb(16,"div",16),u.Lb(17,"label",17),u.oc(18,"Tenancy Name"),u.Kb(),u.Hb(19,"input",18),u.Kb(),u.Lb(20,"div",19),u.Lb(21,"label",20),u.oc(22,"Process Name"),u.Kb(),u.Hb(23,"input",21),u.Kb(),u.Kb(),u.Lb(24,"div",11),u.Lb(25,"div",12),u.Lb(26,"div",22),u.Lb(27,"label",23),u.oc(28,"Login URL"),u.Kb(),u.Hb(29,"input",24),u.Kb(),u.Lb(30,"div",25),u.Lb(31,"label",26),u.oc(32,"Releases URL"),u.Kb(),u.Hb(33,"input",27),u.Kb(),u.Lb(34,"div",28),u.Lb(35,"label",23),u.oc(36,"Start Job URL"),u.Kb(),u.Hb(37,"input",29),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.Lb(38,"div",30),u.Lb(39,"div",11),u.Lb(40,"div",31),u.oc(41,"Process Inputs"),u.Kb(),u.Kb(),u.mc(42,te,3,5,"div",32),u.Kb(),u.Lb(43,"div",5),u.Lb(44,"div",33),u.mc(45,ie,8,4,"div",34),u.Kb(),u.Kb(),u.mc(46,oe,3,5,"div",35),u.Kb(),u.Hb(47,"div",6),u.Kb(),u.Kb(),u.Kb()),2&e){const e=u.Wb().ngIf,r=u.Wb();u.wb(1),u.cc("formGroup",r.viewOrEditTriggerForm),u.wb(8),u.cc("readonly","view"==e.mode),u.wb(20),u.cc("readonly","view"==e.mode),u.wb(4),u.cc("readonly","view"==e.mode),u.wb(4),u.cc("readonly","view"==e.mode),u.wb(5),u.cc("ngIf","edit"==e.mode),u.wb(3),u.cc("ngForOf",r.formsArr.controls),u.wb(1),u.cc("ngIf",!("view"==e.mode))}}function ce(e,r){if(1&e&&(u.Lb(0,"div",1),u.mc(1,ne,48,8,"div",2),u.Xb(2,"async"),u.Kb()),2&e){const e=u.Wb();u.wb(1),u.cc("ngIf",u.Yb(2,1,e.trigger$))}}const se=[{path:"",redirectTo:"view-all",pathMatch:"full"},{path:"create",component:Y},{path:":id/:mode",component:(()=>{class e{constructor(e,r,t,i){this._formBuilder=e,this._triggersService=r,this._router=t,this._route=i}ngOnInit(){this.routeParams$=this._route.params,this.viewOrEditTriggerForm=new d(this._formBuilder).InitForm(),this.trigger$=this._triggersService.trigger$.pipe(Object(b.a)(e=>{if(null==e?void 0:e.id){this.viewOrEditTriggerForm.patchValue(e);for(let r=0;r<e.processInputs.length;r++){let t=e.processInputs[r];this.addProcessInput(t.name,t.value)}this.viewOrEditTriggerForm.controls.server.patchValue(Object.assign({},e.server))}else this._router.navigate([p.a.getRoutePathByName("trigger-view-all")])}))}get formsArr(){return this.viewOrEditTriggerForm.get("processInputs")}addProcessInput(e,r){this.formsArr.push(new d(this._formBuilder).initProcessInputRows(e,r))}deleteProcessInput(e){this.formsArr.removeAt(e)}UpdateTrigger(e){this._triggersService.UpdateTrigger(e,this.viewOrEditTriggerForm.value).subscribe(e=>{this._router.navigate([p.a.getRoutePathByName("trigger-view-all")])})}}return e.\u0275fac=function(r){return new(r||e)(u.Gb(g.d),u.Gb(f.a),u.Gb(o.f),u.Gb(o.a))},e.\u0275cmp=u.Ab({type:e,selectors:[["app-view-or-edit-trigger"]],decls:2,vars:3,consts:[["class","schedule-proceses",4,"ngIf"],[1,"schedule-proceses"],["class","form-wrapper mt-3",4,"ngIf"],[1,"form-wrapper","mt-3"],[3,"formGroup"],[1,"row"],[1,"col-md-1"],[1,"col-md-10"],[1,"form-group","triggerName"],["for","trigger",1,"form-label","required"],["type","text","id","triggerName","formControlName","triggerName",1,"form-control","highlight",3,"readonly"],[1,"col-md-6"],["formGroupName","server"],[1,"form-group","serverName"],["for","serverName",1,"form-label","required"],["readonly","","type","text","id","serverName","name","serverName","formControlName","serverName",1,"form-control","highlight"],[1,"form-group","tenancyName"],["for","tenancyName",1,"form-label","required"],["readonly","","id","tenancyName","name","tenancyName","formControlName","tenancyName",1,"form-control","highlight"],[1,"form-group","processName"],["for","processName",1,"form-label","required"],["readonly","","id","processName","name","processName","formControlName","processName",1,"form-control","highlight"],[1,"form-group","loginUrl"],["for","loginUrl",1,"form-label","required"],["type","text","id","loginUrl","name","loginUrl","formControlName","loginUrl",1,"form-control","highlight",3,"readonly"],[1,"form-group","releasesUrl"],["for","releasesUrl",1,"form-label","required"],["type","text","id","releasesUrl","name","releasesUrl","formControlName","releasesUrl",1,"form-control","highlight",3,"readonly"],[1,"form-group","startJobUrl"],["type","text","id","startJobUrl","name","startJobUrl","formControlName","startJobUrl",1,"form-control","highlight",3,"readonly"],[1,"row","form-group"],[1,"form-heading"],["class","col-md-6",4,"ngIf"],["formArrayName","processInputs",1,"form-group"],["class","form-group",3,"formGroupName",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],["type","button",1,"btn","btn-success","pull-right",3,"disabled","ngClass","click"],[1,"form-group",3,"formGroupName"],[1,"col-sm-4"],["type","text","formControlName","name",1,"form-control","highlight",3,"readonly"],[1,"col-sm-7"],["formControlName","value",1,"form-control","highlight",3,"readonly"],[1,"col-sm-1"],[1,"btn","btn-danger","fa","fa-remove","text-center",3,"disabled","click"],[1,"form-group"],["type","submit",1,"btn","btn-primary",3,"disabled","ngClass","click"]],template:function(e,r){1&e&&(u.mc(0,ce,3,3,"div",0),u.Xb(1,"async")),2&e&&u.cc("ngIf",u.Yb(1,1,r.routeParams$))},directives:[i.n,g.s,g.j,g.f,g.b,g.i,g.e,g.g,g.c,i.m,i.l],pipes:[i.b],styles:[""]}),e})()},{path:"view-all",component:ee}];let ae=(()=>{class e{}return e.\u0275mod=u.Eb({type:e}),e.\u0275inj=u.Db({factory:function(r){return new(r||e)},imports:[[o.i.forChild(se)],o.i]}),e})();var be=t("PCNd");let le=(()=>{class e{}return e.\u0275mod=u.Eb({type:e}),e.\u0275inj=u.Db({factory:function(r){return new(r||e)},imports:[[i.c,o.i,g.n,ae,be.a],o.i]}),e})()}}]);