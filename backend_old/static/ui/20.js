(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{zqeL:function(e,r,n){"use strict";n.r(r),n.d(r,"UserModule",function(){return fe});var s=n("ofXK"),o=n("3Pt+"),i=n("tyNb"),l=n("nY8K"),t=n("Yrtq"),a=n("vkgz"),c=n("eIep"),b=n("fXoL"),d=n("RL7/"),u=n("TaiC"),m=n("4Kj8");function f(e,r){1&e&&(b.Lb(0,"small",20),b.oc(1),b.Kb()),2&e&&(b.wb(1),b.pc("Password is Mandatory."))}const g=function(e,r){return{"form-valid":e,"form-invalid":r}};function p(e,r){if(1&e){const e=b.Mb();b.Lb(0,"div",8),b.Lb(1,"div",9),b.Lb(2,"p"),b.oc(3,"Confirm Password"),b.Kb(),b.Kb(),b.Lb(4,"div",10),b.oc(5),b.Kb(),b.Lb(6,"div",11),b.Lb(7,"div",12),b.Hb(8,"img",13),b.Kb(),b.Lb(9,"form",14),b.Lb(10,"div",15),b.Hb(11,"input",16),b.mc(12,f,2,1,"small",17),b.Lb(13,"button",18),b.Sb("click",function(){b.jc(e);const n=r.ngIf;return b.Wb(3).confirmUser(n.username)}),b.Hb(14,"i",19),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Kb()}if(2&e){const e=r.ngIf,n=b.Wb().ngIf,s=b.Wb(2);b.wb(5),b.qc(" ",e.username," "),b.wb(3),b.cc("src",n.image,b.kc),b.wb(1),b.cc("formGroup",s.confirmUserForm),b.wb(3),b.cc("ngIf",s.value_c("password").touched&&(null==s.value_c("password").errors?null:s.value_c("password").errors.required)),b.wb(1),b.cc("disabled",s.confirmUserForm.invalid),b.wb(1),b.cc("ngClass",b.fc(6,g,!s.confirmUserForm.invalid,s.confirmUserForm.invalid))}}function h(e,r){if(1&e&&(b.Lb(0,"div",4),b.Hb(1,"div",5),b.Lb(2,"div",6),b.mc(3,p,15,9,"div",7),b.Xb(4,"async"),b.Kb(),b.Hb(5,"div",5),b.Kb()),2&e){const e=b.Wb(2);b.wb(3),b.cc("ngIf",b.Yb(4,1,e.loggedInUser$))}}function v(e,r){1&e&&(b.Lb(0,"app-spinner",21),b.oc(1," Fetching User profile detail... "),b.Kb()),2&e&&b.cc("spinnerColor","var(--color-secondary)")("spinnerSize","1.5rem")}function w(e,r){if(1&e&&(b.Jb(0),b.mc(1,h,6,3,"div",2),b.Xb(2,"async"),b.mc(3,v,2,2,"ng-template",null,3,b.nc),b.Ib()),2&e){const e=b.hc(4),r=b.Wb();b.wb(1),b.cc("ngIf",b.Yb(2,2,r.userProfile$))("ngIfElse",e)}}function L(e,r){1&e&&(b.Lb(0,"small",20),b.oc(1),b.Kb()),2&e&&(b.wb(1),b.pc("Username is already Taken."))}function _(e,r){1&e&&(b.Lb(0,"small",20),b.oc(1),b.Kb()),2&e&&(b.wb(1),b.pc("Username is Mandatory."))}function K(e,r){1&e&&(b.Lb(0,"small",41),b.oc(1),b.Kb()),2&e&&(b.wb(1),b.qc(" ","*Username need atleast 3 characters."," "))}function I(e,r){if(1&e&&(b.Lb(0,"small",41),b.oc(1),b.Kb()),2&e){const e=b.Wb(3);b.wb(1),b.sc("","*Username need"," ",(null==e.value_e("username").errors?null:e.value_e("username").errors.minlength.requiredLength)-(null==e.value_e("username").errors?null:e.value_e("username").errors.minlength.actualLength)," ","more characters.","")}}function P(e,r){1&e&&(b.Lb(0,"small",20),b.oc(1),b.Kb()),2&e&&(b.wb(1),b.pc("Email is already Taken."))}function C(e,r){1&e&&(b.Lb(0,"small",20),b.oc(1),b.Kb()),2&e&&(b.wb(1),b.pc("Enter email in valid format."))}function U(e,r){1&e&&(b.Lb(0,"small",20),b.oc(1),b.Kb()),2&e&&(b.wb(1),b.pc("Email is Mandatory."))}const y=function(e,r){return{"is-invalid":e,"is-valid":r}},k=function(e,r){return{"is-valid":e,"is-invalid":r}};function O(e,r){if(1&e){const e=b.Mb();b.Lb(0,"div",4),b.Hb(1,"div",23),b.Lb(2,"div",24),b.Lb(3,"div",25),b.Lb(4,"form",26),b.Lb(5,"div",27),b.Lb(6,"h3",28),b.oc(7,"Edit Details"),b.Kb(),b.Lb(8,"div",27),b.Lb(9,"label",29),b.oc(10,"Username"),b.Kb(),b.Hb(11,"input",30),b.Lb(12,"div",31),b.oc(13,"Username is available."),b.Kb(),b.mc(14,L,2,1,"small",17),b.mc(15,_,2,1,"small",17),b.mc(16,K,2,1,"small",32),b.mc(17,I,2,3,"small",32),b.Kb(),b.Lb(18,"div",27),b.Lb(19,"label",33),b.oc(20,"First Name"),b.Kb(),b.Hb(21,"input",34),b.Kb(),b.Lb(22,"div",27),b.Lb(23,"label",35),b.oc(24,"Last Name"),b.Kb(),b.Hb(25,"input",36),b.Kb(),b.Lb(26,"div",27),b.Lb(27,"label",37),b.oc(28,"Email"),b.Kb(),b.Hb(29,"input",38),b.Lb(30,"div",31),b.oc(31,"Email is avaliable."),b.Kb(),b.mc(32,P,2,1,"small",17),b.mc(33,C,2,1,"small",17),b.mc(34,U,2,1,"small",17),b.Kb(),b.Lb(35,"button",39),b.Sb("click",function(){return b.jc(e),b.Wb(2).changeUserDetails()}),b.oc(36," Edit Details "),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Hb(37,"div",40),b.Kb()}if(2&e){const e=b.Wb(2);b.wb(4),b.cc("formGroup",e.editDetailsForm),b.wb(7),b.cc("ngClass",b.fc(12,y,e.isInValid(e.value_e("username")),e.isValid(e.value_e("username")))),b.wb(3),b.cc("ngIf",null==e.value_e("username").errors?null:e.value_e("username").errors.alreadyTakenError),b.wb(1),b.cc("ngIf",e.value_e("username").touched&&(null==e.value_e("username").errors?null:e.value_e("username").errors.required)),b.wb(1),b.cc("ngIf",e.value_e("username").dirty&&(null==e.value_e("username").errors?null:e.value_e("username").errors.required)),b.wb(1),b.cc("ngIf",e.value_e("username").dirty&&(null==e.value_e("username").errors?null:e.value_e("username").errors.minlength)),b.wb(12),b.cc("ngClass",b.fc(15,k,e.isValid(e.value_e("email")),e.isInValid(e.value_e("email")))),b.wb(3),b.cc("ngIf",null==e.value_e("email").errors?null:e.value_e("email").errors.alreadyTakenError),b.wb(1),b.cc("ngIf",e.isInValid(e.value_e("email"))&&(null==e.value_e("email").errors?null:e.value_e("email").errors.pattern)),b.wb(1),b.cc("ngIf",e.value_e("email").touched&&(null==e.value_e("email").errors?null:e.value_e("email").errors.required)),b.wb(1),b.cc("disabled",e.editDetailsForm.invalid)("ngClass",b.fc(18,g,!e.editDetailsForm.invalid,e.editDetailsForm.invalid))}}function x(e,r){1&e&&(b.Lb(0,"app-spinner",21),b.oc(1," Fetching required details from backend... "),b.Kb()),2&e&&b.cc("spinnerColor","var(--color-secondary)")("spinnerSize","1.5rem")}function S(e,r){if(1&e&&(b.Jb(0),b.mc(1,O,38,21,"div",2),b.Xb(2,"async"),b.mc(3,x,2,2,"ng-template",null,22,b.nc),b.Ib()),2&e){const e=b.hc(4),r=b.Wb();b.wb(1),b.cc("ngIf",b.Yb(2,2,r.allUsers$))("ngIfElse",e)}}let M=(()=>{class e{constructor(e,r,n){this._route=e,this._auth=r,this._authData=n,this.isValid=t.b,this.isInValid=t.a,this.isUserConfirmed=!1}value_c(e){return this.confirmUserForm.controls[e]}value_e(e){return this.editDetailsForm.controls[e]}ngOnInit(){this.loggedInUser$=this._authData.getLoggedInUser$(),this.userProfile$=this.loggedInUser$.pipe(Object(a.a)(e=>{this._authData.setLoggedInUser$(e),this.confirmUserForm=l.b.ConfirmUserForm(e)}),Object(c.a)(e=>this._authData.GetUserProfileById(e.id))),this.allUsers$=this.loggedInUser$.pipe(Object(c.a)(e=>this._authData.allUsers$.pipe(Object(a.a)(r=>{this.editDetailsForm=l.b.EditDetailsForm(e,r),this.editDetailsForm.patchValue(e)}))))}confirmUser(e){this.value_c("username").setValue(e),this._auth.LogIn(this.confirmUserForm.value).subscribe(e=>{this._authData.setLoggedInUser$(e.user),this.isUserConfirmed=!0},e=>{console.log(e),this.isUserConfirmed=!1})}changeUserDetails(){this._auth.EditUserDetails(this.editDetailsForm.value).subscribe(e=>{this._route.navigate(["/user"])},e=>{console.log(e),alert(e.error)})}ngOnDestroy(){}}return e.\u0275fac=function(r){return new(r||e)(b.Gb(i.f),b.Gb(d.a),b.Gb(u.a))},e.\u0275cmp=b.Ab({type:e,selectors:[["app-edit-details"]],decls:3,vars:2,consts:[[1,"edit-details","container-md"],[4,"ngIf"],["class","row",4,"ngIf","ngIfElse"],["userProfileNotFetched",""],[1,"row"],[1,"col-md-2"],[1,"col-md-8"],["class","lockscreen-wrapper",4,"ngIf"],[1,"lockscreen-wrapper"],[1,"lockscreen-logo"],[1,"lockscreen-name"],[1,"lockscreen-item"],[1,"lockscreen-image"],["alt","User Image",3,"src"],[1,"lockscreen-credentials",3,"formGroup"],[1,"input-group"],["autofocus","","id","password","type","password","formControlName","password","aria-describedby","button-addon",1,"form-control","highlight"],["class","invalid-feedback",4,"ngIf"],["type","submit","id","button-addon",1,"btn",3,"disabled","click"],[1,"fa","fa-arrow-right","text-muted",3,"ngClass"],[1,"invalid-feedback"],[3,"spinnerColor","spinnerSize"],["allUsersNotFetched",""],[1,"col-lg-1","col-md-1"],[1,"col-md-8","col-lg-5"],[1,"form-wrapper"],[3,"formGroup"],[1,"form-group"],[1,"form-heading","mb-3"],["for","username",1,"form-label","required"],["type","text","id","username","formControlName","username",1,"form-control","highlight",3,"ngClass"],[1,"valid-feedback"],["style","color: grey",4,"ngIf"],["for","first_name",1,"form-label"],["type","text","id","first_name","formControlName","first_name",1,"form-control","highlight"],["for","last_name",1,"form-label"],["type","text","id","last_name","formControlName","last_name",1,"form-control","highlight"],["for","email",1,"form-label","required"],["type","email","id","email","formControlName","email",1,"form-control","highlight",3,"ngClass"],["type","submit",1,"btn","btn-highlight",3,"disabled","ngClass","click"],[1,"col-md-3","col-lg-6"],[2,"color","grey"]],template:function(e,r){1&e&&(b.Lb(0,"div",0),b.mc(1,w,5,4,"ng-container",1),b.mc(2,S,5,4,"ng-container",1),b.Kb()),2&e&&(b.wb(1),b.cc("ngIf",!r.isUserConfirmed),b.wb(1),b.cc("ngIf",r.isUserConfirmed))},directives:[s.n,o.s,o.j,o.f,o.b,o.i,o.e,s.l,m.a],pipes:[s.b],styles:[".lockscreen-wrapper[_ngcontent-%COMP%]{margin-top:50px;padding-bottom:50px;background-color:#eee}.lockscreen-wrapper[_ngcontent-%COMP%]   .lockscreen-logo[_ngcontent-%COMP%]{font-size:35px;text-align:center;margin-bottom:25px;font-weight:300}.lockscreen-wrapper[_ngcontent-%COMP%]   .lockscreen-name[_ngcontent-%COMP%]{text-align:center;font-weight:600}.lockscreen-wrapper[_ngcontent-%COMP%]   .lockscreen-item[_ngcontent-%COMP%]{border-radius:4px;padding:0;background:#fff;position:relative;margin:10px auto 30px;width:290px}.lockscreen-wrapper[_ngcontent-%COMP%]   .lockscreen-item[_ngcontent-%COMP%]   .lockscreen-name[_ngcontent-%COMP%]{text-align:center;font-weight:600}.lockscreen-wrapper[_ngcontent-%COMP%]   .lockscreen-item[_ngcontent-%COMP%]   .lockscreen-image[_ngcontent-%COMP%]{border-radius:50%;position:absolute;left:-30px;top:-32px;background:#fff;padding:7px;z-index:10}.lockscreen-wrapper[_ngcontent-%COMP%]   .lockscreen-item[_ngcontent-%COMP%]   .lockscreen-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:90px;height:90px}.lockscreen-wrapper[_ngcontent-%COMP%]   .lockscreen-item[_ngcontent-%COMP%]   .lockscreen-credentials[_ngcontent-%COMP%]{margin-left:70px}.lockscreen-wrapper[_ngcontent-%COMP%]   .lockscreen-item[_ngcontent-%COMP%]   .lockscreen-credentials[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{outline:none;border:none}.lockscreen-wrapper[_ngcontent-%COMP%]   .lockscreen-item[_ngcontent-%COMP%]   .lockscreen-credentials[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:focus{outline:none}"]}),e})();const q=function(e,r){return{"form-valid":e,"form-invalid":r}};function H(e,r){if(1&e){const e=b.Mb();b.Jb(0),b.Lb(1,"div",3),b.Lb(2,"div",4),b.Hb(3,"div",5),b.Lb(4,"div",6),b.Lb(5,"form",7),b.Lb(6,"div",8),b.Lb(7,"h3",9),b.oc(8,"Edit Profile"),b.Kb(),b.Lb(9,"div",8),b.Lb(10,"label",10),b.oc(11,"Bio"),b.Kb(),b.Hb(12,"textarea",11),b.Kb(),b.Lb(13,"div",8),b.Lb(14,"label",12),b.oc(15,"Birth date"),b.Kb(),b.Hb(16,"input",13),b.Kb(),b.Lb(17,"div",14),b.Lb(18,"h4"),b.oc(19,"Address"),b.Kb(),b.Lb(20,"div",8),b.Lb(21,"label",15),b.oc(22,"Street"),b.Kb(),b.Hb(23,"input",16),b.Kb(),b.Lb(24,"div",8),b.Lb(25,"label",17),b.oc(26,"City"),b.Kb(),b.Hb(27,"input",18),b.Kb(),b.Lb(28,"div",8),b.Lb(29,"label",19),b.oc(30,"State"),b.Kb(),b.Hb(31,"input",20),b.Kb(),b.Lb(32,"div",8),b.Lb(33,"label",21),b.oc(34,"Zip Code"),b.Kb(),b.Hb(35,"input",22),b.Kb(),b.Kb(),b.Lb(36,"div",23),b.Hb(37,"input",24),b.Lb(38,"label",25),b.oc(39,"Email confirmed"),b.Kb(),b.Kb(),b.Lb(40,"div",26),b.Lb(41,"label",27),b.oc(42,"Profile photo"),b.Kb(),b.Hb(43,"br"),b.Hb(44,"input",28),b.Kb(),b.Lb(45,"button",29),b.Sb("click",function(){return b.jc(e),b.Wb().editProfile()}),b.oc(46," Save profile "),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Hb(47,"div",30),b.Kb(),b.Kb(),b.Ib()}if(2&e){const e=b.Wb();b.wb(5),b.cc("formGroup",e.editProfileForm),b.wb(40),b.cc("disabled",e.editProfileForm.invalid)("ngClass",b.fc(3,q,!e.editProfileForm.invalid,e.editProfileForm.invalid))}}function F(e,r){1&e&&(b.Lb(0,"app-spinner",31),b.oc(1," Fetching User profile details from backend... "),b.Kb()),2&e&&b.cc("spinnerColor","var(--color-secondary)")("spinnerSize","1.5rem")}let D=(()=>{class e{constructor(e,r){this._userService=e,this._router=r,this.isValid=t.b,this.isInValid=t.a}value(e){return this.editProfileForm.get(e)}ngOnInit(){this.userProfile$=this._userService.getLoggedInUser$().pipe(Object(c.a)(e=>this._userService.GetUserProfileById(e.id)),Object(a.a)(e=>{this.editProfileForm=class{static ConfirmUser(e){return(new o.d).group({username:[e.username],password:["",[o.q.required]],email:"amishm766@gmail.com"})}static EditDetails(e,r){return(new o.d).group({id:[{value:null,disabled:!1}],username:["",[o.q.required,o.q.minLength(3),o.q.maxLength(150)],Object(t.e)(e,r).bind(this)],first_name:[""],last_name:[""],email:["",[o.q.required,o.q.pattern("^([a-zA-Z0-9_.-]+)@([a-zA-Z0-9_.-]+)\\.([a-zA-Z]{2,5})$")],Object(t.e)(e,r).bind(this)]})}static EditProfile(e){return(new o.d).group({user:[null==e?void 0:e.id],bio:["",[o.q.maxLength(150)]],address:(new o.d).group({user:[e],city:[""],state:[""],street:[""],zip_code:[""]}),birth_date:[null],email_confirmed:[!1],image:[null]})}}.EditProfile(this.loggedInUser),!e||delete e.image,this.editProfileForm.patchValue(e)}))}editProfile(){this.editProfileForm.removeControl("image"),this._userService.EditProfile(this.editProfileForm.value).subscribe(e=>{this._userService.setUserProfile$(e),this._router.navigate([""])},e=>{console.log(e)})}ngOnDestroy(){}}return e.\u0275fac=function(r){return new(r||e)(b.Gb(u.a),b.Gb(i.f))},e.\u0275cmp=b.Ab({type:e,selectors:[["app-edit-profile"]],decls:5,vars:4,consts:[[1,"edit-profile"],[4,"ngIf","ngIfElse"],["userProfileNotFetched",""],[1,"form-wrapper"],[1,"row"],[1,"col-lg-1","col-md-1"],[1,"col-md-8","col-lg-5"],[1,"form-group",3,"formGroup"],[1,"form-group"],[1,"form-heading"],["for","bio",1,"form-label"],["id","bio","rows","2","cols","60","formControlName","bio",1,"form-control","highlight"],["for","birth_date",1,"form-label"],["type","date","id","birth_date","formControlName","birth_date",1,"form-control","highlight"],["formGroupName","address",1,"form-group"],["for","street",1,"form-label"],["id","street","type","text","formControlName","street",1,"form-control","highlight"],["for","city",1,"form-label"],["id","city","type","text","formControlName","city",1,"form-control","highlight"],["for","state",1,"form-label"],["id","state","type","text","formControlName","state",1,"form-control","highlight"],["for","zip_code",1,"form-label"],["id","zip_code","type","number","formControlName","zip_code",1,"form-control","highlight"],[1,"form-group","form-check","form-switch"],["type","checkbox","id","email_confirmed","formControlName","email_confirmed",1,"form-check-input"],["for","email_confirmed",1,"form-check-label","form-label"],[1,"form-group","form-file"],["for","image",1,"form-label"],["id","image","type","file","formControlName","image",1,"form-control","form-control-file"],["type","button",1,"btn",3,"disabled","ngClass","click"],[1,"col-md-3","col-lg-6"],[3,"spinnerColor","spinnerSize"]],template:function(e,r){if(1&e&&(b.Lb(0,"div",0),b.mc(1,H,48,6,"ng-container",1),b.Xb(2,"async"),b.mc(3,F,2,2,"ng-template",null,2,b.nc),b.Kb()),2&e){const e=b.hc(4);b.wb(1),b.cc("ngIf",b.Yb(2,2,r.userProfile$))("ngIfElse",e)}},directives:[s.n,o.s,o.j,o.f,o.b,o.i,o.e,o.g,o.m,o.a,s.l,m.a],pipes:[s.b],styles:[""]}),e})();function N(e,r){if(1&e&&b.Hb(0,"img",36),2&e){const e=b.Wb().ngIf;b.cc("src",null==e?null:e.image,b.kc)}}function $(e,r){1&e&&b.Hb(0,"div",37)}function E(e,r){1&e&&(b.Lb(0,"a",38),b.oc(1),b.Kb()),2&e&&(b.wb(1),b.qc(" ","Verified"," "))}function G(e,r){1&e&&(b.Lb(0,"a",38),b.oc(1),b.Kb()),2&e&&(b.wb(1),b.qc(" ","Not Verified"," "))}function j(e,r){if(1&e&&(b.Lb(0,"div"),b.Lb(1,"div",8),b.mc(2,N,1,1,"img",24),b.mc(3,$,1,0,"div",25),b.Kb(),b.Lb(4,"h3",26),b.oc(5),b.Kb(),b.Lb(6,"p",27),b.oc(7),b.Kb(),b.Lb(8,"ul",28),b.Lb(9,"li",29),b.Lb(10,"b",30),b.oc(11,"Username"),b.Kb(),b.Lb(12,"a",31),b.oc(13),b.Kb(),b.Kb(),b.Lb(14,"li",29),b.Lb(15,"b",30),b.oc(16,"DOB"),b.Kb(),b.Lb(17,"a",32),b.oc(18),b.Kb(),b.Kb(),b.Lb(19,"li",29),b.Lb(20,"b",30),b.oc(21,"Email"),b.Kb(),b.Lb(22,"a",33),b.oc(23),b.Kb(),b.Kb(),b.Lb(24,"li",29),b.Lb(25,"b",30),b.oc(26,"Email Status"),b.Kb(),b.mc(27,E,2,1,"a",34),b.mc(28,G,2,1,"a",34),b.Kb(),b.Kb(),b.Lb(29,"a",35),b.Lb(30,"b"),b.oc(31,"Follow"),b.Kb(),b.Kb(),b.Kb()),2&e){const e=r.ngIf;b.wb(2),b.cc("ngIf",e),b.wb(1),b.cc("ngIf",!e),b.wb(2),b.sc(" ",null==e||null==e.address||null==e.address.user?null:e.address.user.first_name," "," "," ",null==e||null==e.address||null==e.address.user?null:e.address.user.last_name," "),b.wb(2),b.qc(" ",null==e?null:e.bio," "),b.wb(6),b.qc(" ",null==e||null==e.address||null==e.address.user?null:e.address.user.username," "),b.wb(5),b.pc(null==e?null:e.birth_date),b.wb(5),b.qc(" ",null==e||null==e.address||null==e.address.user?null:e.address.user.email," "),b.wb(4),b.cc("ngIf",null==e?null:e.email_confirmed),b.wb(1),b.cc("ngIf",!(null!=e&&e.email_confirmed))}}function z(e,r){1&e&&b.Hb(0,"div",39)}function V(e,r){if(1&e&&(b.Lb(0,"div",3),b.Lb(1,"div",4),b.Lb(2,"div",5),b.Lb(3,"div",6),b.mc(4,j,32,11,"div",7),b.Xb(5,"async"),b.Lb(6,"div",8),b.mc(7,z,1,0,"div",9),b.Kb(),b.Kb(),b.Kb(),b.Lb(8,"div",5),b.Lb(9,"div",6),b.Lb(10,"div",10),b.Lb(11,"h3",11),b.oc(12,"About Me"),b.Kb(),b.Kb(),b.Lb(13,"div",6),b.Lb(14,"strong"),b.Hb(15,"i",12),b.oc(16," Education"),b.Kb(),b.Hb(17,"br"),b.Lb(18,"p",13),b.oc(19,"Test text......"),b.Kb(),b.Hb(20,"hr"),b.Lb(21,"strong"),b.Hb(22,"i",14),b.oc(23," Location"),b.Kb(),b.Hb(24,"br"),b.Lb(25,"p",13),b.oc(26),b.Kb(),b.Hb(27,"hr"),b.Lb(28,"strong"),b.Hb(29,"i",15),b.oc(30," Skills"),b.Kb(),b.Lb(31,"ul",16),b.Lb(32,"li",17),b.oc(33,"UI Design"),b.Kb(),b.Lb(34,"li",18),b.oc(35,"Coding"),b.Kb(),b.Lb(36,"li",19),b.oc(37,"Javascript"),b.Kb(),b.Lb(38,"li",20),b.oc(39,"PHP"),b.Kb(),b.Lb(40,"li",21),b.oc(41,"Node.js"),b.Kb(),b.Kb(),b.Hb(42,"hr"),b.Lb(43,"strong"),b.Hb(44,"i",22),b.oc(45," Notes"),b.Kb(),b.Hb(46,"br"),b.Lb(47,"p"),b.oc(48,"Test twxt for Notes."),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Hb(49,"div",23),b.Kb()),2&e){const e=r.ngIf,n=b.Wb();b.wb(4),b.cc("ngIf",b.Yb(5,3,n.userProfile$)),b.wb(3),b.cc("ngIf",!e),b.wb(19),b.qc(" ",(null==e||null==e.address?null:e.address.street)+", "+(null==e||null==e.address?null:e.address.city)+", "+(null==e||null==e.address?null:e.address.state)," ")}}function W(e,r){1&e&&(b.Lb(0,"app-spinner",40),b.oc(1),b.Kb()),2&e&&(b.cc("spinnerColor","#428bca")("spinnerSize","1.5rem"),b.wb(1),b.pc(" Fetching data from backend....."))}let A=(()=>{class e{constructor(e,r){this._userService=e,this._activatedRoute=r}ngOnInit(){var e;this._activatedRoute.params.subscribe(e=>this.userId=null==e?void 0:e.id),this.userId!=(null===(e=this.loggedInUser)||void 0===e?void 0:e.id)&&this._userService.GetUserProfileById(this.userId).subscribe(e=>{console.log("In View-Profile"),console.log(e),this._userService.setUserProfile$(e),this.loggedInUser=this._userService.loggedInUser,this.userProfile$=this._userService.getUserProfile$(),this.profileKeys=Object.keys(e)})}ngOnDestroy(){}}return e.\u0275fac=function(r){return new(r||e)(b.Gb(u.a),b.Gb(i.a))},e.\u0275cmp=b.Ab({type:e,selectors:[["app-view-profile"]],decls:5,vars:6,consts:[[1,"content"],["class","row",4,"ngIf"],[3,"spinnerColor","spinnerSize",4,"ngIf"],[1,"row"],[1,"col-md-4","col-sm-12"],[1,"box","box-primary"],[1,"box-body"],[4,"ngIf"],[1,"text-center"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"box-header","with-border"],[1,"box-title"],[1,"fa","fa-book","margin-r-5"],[1,"text-muted"],[1,"fa","fa-map-marker","margin-r-5"],[1,"fa","fa-pencil","margin-r-5"],["id","image"],[1,"label","label-danger"],[1,"label","label-success"],[1,"label","label-info"],[1,"label","label-warning"],[1,"label","label-primary"],[1,"fa","fa-file-text-o","margin-r-5"],[1,"col-md-8","col-sm-12"],["class","profile-user-img img-responsive img-circle","alt","User profile picture",3,"src",4,"ngIf"],["class","text-center fa fa-spinner fa-spin",4,"ngIf"],[1,"profile-username","text-center"],[1,"text-muted","text-center"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"form-label"],["name","username",1,"pull-right"],["name","birth_date",1,"pull-right"],["name","email",1,"pull-right"],["class","pull-right","name","email_confirmed",4,"ngIf"],["href","#",1,"btn","btn-primary","btn-block"],["alt","User profile picture",1,"profile-user-img","img-responsive","img-circle",3,"src"],[1,"text-center","fa","fa-spinner","fa-spin"],["name","email_confirmed",1,"pull-right"],[1,"fa","fa-spinner","fa-spin"],[3,"spinnerColor","spinnerSize"]],template:function(e,r){1&e&&(b.Lb(0,"section",0),b.mc(1,V,50,5,"div",1),b.Xb(2,"async"),b.mc(3,W,2,3,"app-spinner",2),b.Xb(4,"async"),b.Kb()),2&e&&(b.wb(1),b.cc("ngIf",b.Yb(2,2,r.userProfile$)),b.wb(2),b.cc("ngIf",!b.Yb(4,4,r.userProfile$)))},directives:[s.n,m.a],pipes:[s.b],styles:[".content[_ngcontent-%COMP%]{padding:5px;margin-left:auto;min-height:250px;margin-right:auto;overflow-x:hidden}.content[_ngcontent-%COMP%]   .profile-user-img[_ngcontent-%COMP%]{margin:0 auto;inline-size:100px;padding:3px;border:3px solid #d2d6de}.content[_ngcontent-%COMP%]   #image[_ngcontent-%COMP%]{line-height:1.5em;list-style-image:url(/static/ui/assets/auth/profile/tree.png)}.content[_ngcontent-%COMP%]   #image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-block-end:.2em}"]}),e})();function Y(e,r){1&e&&(b.Lb(0,"small",19),b.oc(1),b.Kb()),2&e&&(b.wb(1),b.pc("Password is Mandatory."))}function R(e,r){1&e&&(b.Lb(0,"small",19),b.oc(1),b.Kb()),2&e&&(b.wb(1),b.pc("Enter password in valid format."))}function X(e,r){1&e&&(b.Lb(0,"small",19),b.oc(1),b.Kb()),2&e&&(b.wb(1),b.pc("Password is Mandatory."))}function B(e,r){1&e&&(b.Lb(0,"span"),b.oc(1),b.Kb()),2&e&&(b.wb(1),b.pc("*Need 8 characters including a number,an Uppercase and lowercase letter."))}function T(e,r){if(1&e&&b.mc(0,B,2,1,"span",23),2&e){const e=b.Wb(2);b.cc("ngIf",!e.isValid(e.value("password")))}}function J(e,r){1&e&&(b.Lb(0,"span"),b.oc(1),b.Kb()),2&e&&(b.wb(1),b.pc("characters, "))}function Z(e,r){1&e&&(b.Lb(0,"span"),b.oc(1),b.Kb()),2&e&&(b.wb(1),b.pc("character, "))}function Q(e,r){if(1&e&&(b.Lb(0,"span"),b.oc(1),b.mc(2,J,2,1,"span",23),b.mc(3,Z,2,1,"span",23),b.Kb()),2&e){const e=b.Wb(3);b.wb(1),b.qc(" ",(null==e.value("password").errors?null:e.value("password").errors.minlength.requiredLength)-(null==e.value("password").errors?null:e.value("password").errors.minlength.actualLength)," "),b.wb(1),b.cc("ngIf",(null==e.value("password").errors?null:e.value("password").errors.minlength.requiredLength)-(null==e.value("password").errors?null:e.value("password").errors.minlength.actualLength)>1),b.wb(1),b.cc("ngIf",(null==e.value("password").errors?null:e.value("password").errors.minlength.requiredLength)-(null==e.value("password").errors?null:e.value("password").errors.minlength.actualLength)<=1)}}function ee(e,r){1&e&&(b.Lb(0,"span"),b.oc(1),b.Kb()),2&e&&(b.wb(1),b.pc("a number, "))}function re(e,r){1&e&&(b.Lb(0,"span"),b.oc(1),b.Kb()),2&e&&(b.wb(1),b.pc("an Uppercase "))}function ne(e,r){1&e&&(b.Lb(0,"span"),b.oc(1),b.Kb()),2&e&&(b.wb(1),b.qc("","and lowercase"," "))}function se(e,r){1&e&&(b.Lb(0,"span"),b.oc(1),b.Kb()),2&e&&(b.wb(1),b.pc(" letter."))}function oe(e,r){if(1&e&&(b.Lb(0,"div"),b.oc(1," *Need "),b.mc(2,Q,4,3,"span",23),b.mc(3,ee,2,1,"span",23),b.mc(4,re,2,1,"span",23),b.mc(5,ne,2,1,"span",23),b.mc(6,se,2,1,"span",23),b.Kb()),2&e){const e=b.Wb(2);b.wb(2),b.cc("ngIf",null==e.value("password").errors?null:e.value("password").errors.minlength),b.wb(1),b.cc("ngIf",null==e.value("password").errors?null:e.value("password").errors.hasNumber),b.wb(1),b.cc("ngIf",null==e.value("password").errors?null:e.value("password").errors.hasCapitalCase),b.wb(1),b.cc("ngIf",null==e.value("password").errors?null:e.value("password").errors.hasSmallCase),b.wb(1),b.cc("ngIf",(null==e.value("password").errors?null:e.value("password").errors.hasSmallCase)||(null==e.value("password").errors?null:e.value("password").errors.hasCapitalCase))}}function ie(e,r){if(1&e&&(b.Lb(0,"small",20),b.mc(1,T,1,1,"ng-template",null,21,b.nc),b.mc(3,oe,7,5,"div",22),b.Kb()),2&e){const e=b.hc(2),r=b.Wb();b.wb(3),b.cc("ngIf",r.value("password").dirty&&r.value("password").errors&&!(null!=r.value("password").errors&&r.value("password").errors.required))("ngIfElse",e)}}const le=function(e,r){return{"is-invalid":e,"is-valid":r}},te=function(e,r){return{"form-valid":e,"form-invalid":r}};let ae=(()=>{class e{constructor(e,r,n){this._auth=e,this._userService=r,this._route=n,this.isValid=t.b,this.isInValid=t.a,this.loggedInUser=this._userService.loggedInUser,this.changePasswordForm=(new o.d).group({id:[this.loggedInUser.id],oldPassword:["",[o.q.required]],password:["",[o.q.required,o.q.minLength(8),o.q.pattern("(?=[^A-Z]*[A-Z])(?=[^a-z]*[a-z])(?=[^0-9]*[0-9]).{8,}"),Object(t.c)(/\d/,{hasNumber:!0}),Object(t.c)(/[A-Z]/,{hasCapitalCase:!0}),Object(t.c)(/[a-z]/,{hasSmallCase:!0})]]})}value(e){return this.changePasswordForm.controls[e]}ngOnInit(){}confirmUser(){var e;let r={username:this.loggedInUser.username,password:null===(e=this.value("oldPassword"))||void 0===e?void 0:e.value,email:"amishm7@gmail.com"};this._auth.LogIn(r).subscribe(e=>{console.log(e),this.changePassword()},e=>{console.log(e),alert(e.error)},()=>{console.log("Login() service called Successfully")})}changePassword(){this._auth.EditUserDetails(this.changePasswordForm.value).subscribe(e=>{console.log(e),this._route.navigate([""])},e=>{console.log(e),alert(e.error)},()=>{console.log("Change password service called Successful")})}ngOnDestroy(){}}return e.\u0275fac=function(r){return new(r||e)(b.Gb(d.a),b.Gb(u.a),b.Gb(i.f))},e.\u0275cmp=b.Ab({type:e,selectors:[["app-change-password"]],decls:30,vars:19,consts:[[1,"change-password"],[1,"form-wrapper"],[1,"row"],[1,"col-lg-1","col-md-1"],[1,"col-md-8","col-lg-5"],[3,"formGroup"],[1,"form-group"],[1,"form-heading","mt-5"],["for","username",1,"form-label"],["type","text","id","username","readonly","",1,"form-control","highlight",3,"value"],["for","oldPassword",1,"form-label","required"],["autofocus","","id","oldPassword","type","password","formControlName","oldPassword",1,"form-control","highlight",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password",1,"form-label","required"],["id","password","type","password","formControlName","password",1,"form-control","highlight",3,"ngClass"],[1,"valid-feedback"],["style","color: grey",4,"ngIf"],["type","submit",1,"btn",3,"disabled","ngClass","click"],[1,"col-md-3","col-lg-6"],[1,"invalid-feedback"],[2,"color","grey"],["initialText",""],[4,"ngIf","ngIfElse"],[4,"ngIf"]],template:function(e,r){1&e&&(b.Lb(0,"div",0),b.Lb(1,"div",1),b.Lb(2,"div",2),b.Hb(3,"div",3),b.Lb(4,"div",4),b.Lb(5,"form",5),b.Lb(6,"div",6),b.Lb(7,"h3",7),b.oc(8,"Change Password"),b.Kb(),b.Lb(9,"div",6),b.Lb(10,"label",8),b.oc(11,"Username"),b.Kb(),b.Hb(12,"input",9),b.Kb(),b.Lb(13,"div",6),b.Lb(14,"label",10),b.oc(15,"Old Password"),b.Kb(),b.Hb(16,"input",11),b.mc(17,Y,2,1,"small",12),b.Kb(),b.Lb(18,"div",6),b.Lb(19,"label",13),b.oc(20,"New Password"),b.Kb(),b.Hb(21,"input",14),b.Lb(22,"div",15),b.oc(23,"Password is in valid format."),b.Kb(),b.mc(24,R,2,1,"small",12),b.mc(25,X,2,1,"small",12),b.mc(26,ie,4,2,"small",16),b.Kb(),b.Lb(27,"button",17),b.Sb("click",function(){return r.confirmUser()}),b.oc(28," Change "),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Hb(29,"div",18),b.Kb(),b.Kb(),b.Kb()),2&e&&(b.wb(5),b.cc("formGroup",r.changePasswordForm),b.wb(7),b.cc("value",r.loggedInUser.username),b.wb(4),b.cc("ngClass",b.fc(10,le,r.isInValid(r.value("oldPassword")),r.isValid(r.value("oldPassword")))),b.wb(1),b.cc("ngIf",r.value("oldPassword").touched&&(null==r.value("oldPassword").errors?null:r.value("oldPassword").errors.required)),b.wb(4),b.cc("ngClass",b.fc(13,le,r.isInValid(r.value("password")),r.isValid(r.value("password")))),b.wb(3),b.cc("ngIf",r.value("password").touched&&(null==r.value("password").errors?null:r.value("password").errors.pattern)),b.wb(1),b.cc("ngIf",r.value("password").touched&&(null==r.value("password").errors?null:r.value("password").errors.required)),b.wb(1),b.cc("ngIf",(null==r.value("password").errors?null:r.value("password").errors.required)||r.value("password").dirty),b.wb(1),b.cc("disabled",r.changePasswordForm.invalid)("ngClass",b.fc(16,te,!r.changePasswordForm.invalid,r.changePasswordForm.invalid)))},directives:[o.s,o.j,o.f,o.b,o.i,o.e,s.l,s.n],styles:[""]}),e})();const ce=[{path:"",component:(()=>{class e{constructor(e){this._userService=e}ngOnInit(){this.loggedInUser$=this._userService.getLoggedInUser$()}}return e.\u0275fac=function(r){return new(r||e)(b.Gb(u.a))},e.\u0275cmp=b.Ab({type:e,selectors:[["app-user-home"]],decls:8,vars:3,consts:[[1,"user-home"],[1,"row"],[1,"col-md-3"],[1,"col-md-6"],[2,"margin-top","50px"]],template:function(e,r){if(1&e&&(b.Jb(0,0),b.Lb(1,"div",1),b.Hb(2,"div",2),b.Lb(3,"div",3),b.Lb(4,"h4",4),b.oc(5),b.Xb(6,"async"),b.Kb(),b.Kb(),b.Hb(7,"div",2),b.Kb(),b.Ib()),2&e){let e=null;b.wb(5),b.qc(" ","Welcome "+(null==(e=b.Yb(6,1,r.loggedInUser$))?null:e.username)," ")}},pipes:[s.b],styles:[""]}),e})()},{path:"edit-details",component:M},{path:"edit-profile",component:D},{path:"view-profile/:id",component:A},{path:"change-password",component:ae}];let be=(()=>{class e{}return e.\u0275mod=b.Eb({type:e}),e.\u0275inj=b.Db({factory:function(r){return new(r||e)},imports:[[i.i.forChild(ce)],i.i]}),e})();var de=n("PCNd"),ue=n("PqYM"),me=n("rRiM");let fe=(()=>{class e{constructor(e,r){this._userService=e,this._commonService=r,this.currentRouteURL$=this._commonService.currentRouteURL$().pipe(Object(a.a)(e=>{e.url.includes("/user")?this.GetUserData():this.timerUserDataSubs&&(this.timerUserDataSubs.unsubscribe(),this.getUserProfileSubs.unsubscribe())})),this.currentRouteURL$.subscribe()}GetUserData(){this.getLoggedInUser(),this.timerUserDataSubs=Object(ue.a)(0,2e5).pipe(Object(a.a)(e=>{var r;this._userService.loggedInUser||this.getLoggedInUser(),this._userService.loggedInUser.id&&this.getUserProfileById(null===(r=this._userService.loggedInUser)||void 0===r?void 0:r.id)})).subscribe()}getLoggedInUser(){this._userService.getLoggedInUser$().subscribe(e=>{this._userService.loggedInUser=e,this._userService.setLoggedInUser$(e)})}getUserProfileById(e){this.getUserProfileSubs=this._userService.GetUserProfileById(e).subscribe(e=>{this._userService.setUserProfile$(e)})}}return e.\u0275mod=b.Eb({type:e}),e.\u0275inj=b.Db({factory:function(r){return new(r||e)(b.Pb(u.a),b.Pb(me.a))},imports:[[s.c,de.a,o.n,be]]}),e})()}}]);