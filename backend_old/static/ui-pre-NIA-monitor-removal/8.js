(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{adxH:function(e,r,i){"use strict";i.r(r),i.d(r,"TriggerModule",function(){return we});var t=i("ofXK"),o=i("tyNb"),n=i("itXk"),s=i("vkgz"),c=i("Kj3r"),a=i("/uUt"),b=i("pLZG"),l=i("eIep"),g=i("w1tV"),m=i("lJxs"),p=i("3Pt+"),d=i("GSgJ");class f{constructor(e){this._formBuilder=e}InitForm(){return this._formBuilder.group({server:new d.a.CreateServer(this._formBuilder).InItForm(),triggerName:[null,[p.q.required]],processName:["",[p.q.required]],profileName:["",[p.q.required]],processExpirationTime:["",[p.q.required]],processInputs:(new p.d).array([])})}initProcessInputRows(e,r){return this._formBuilder.group({name:[e,p.q.required],value:[r]})}}var u=i("gR9L"),h=i("fXoL"),v=i("tk/3"),w=i("JIr8"),L=i("IzEk"),N=i("z6cu"),K=i("V73k");let y=(()=>{class e{constructor(e){this._http=e}GetAllDeployedProcesses(e,r){console.log("Entered in Services");const i=(new v.e).set("serverName",e);return r&&i.set("processName",r),this._http.get(K.a.API_URL,{params:i}).pipe(Object(m.a)(e=>e.processes),Object(w.a)(this.errorHandler),Object(g.a)())}GetAllDeployedProcessesWithInputParams(e,r){console.log("Entered in Services");const i=(new v.e).set("serverName",e).set("processName",r);return this._http.get(K.a.API_URL+"processes/",{params:i}).pipe(Object(m.a)(e=>e.processInfos),Object(m.a)(e=>e[0]),Object(g.a)(),Object(L.a)(1))}GetAllProfileToProcessMappings(e){const r=(new v.e).set("serverName",e);return this._http.get(K.a.API_URL+"mappings/",{params:r}).pipe(Object(w.a)(this.errorHandler),Object(g.a)())}errorHandler(e){return console.error(e),Object(N.a)(e.error||"Server Error")}}return e.\u0275fac=function(r){return new(r||e)(h.Pb(v.b))},e.\u0275prov=h.Cb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var I=i("LCkw"),S=i("nFPE"),T=i("4Kj8");function O(e,r){if(1&e&&(h.Lb(0,"option",40),h.oc(1),h.Kb()),2&e){const e=r.$implicit;h.cc("value",e.serverName),h.wb(1),h.qc(" ",e.serverName," ")}}function F(e,r){1&e&&(h.Lb(0,"app-spinner",41),h.oc(1,"Select Server First..."),h.Kb())}function P(e,r){1&e&&(h.Lb(0,"app-spinner",41),h.oc(1,"Fetching Server details..."),h.Kb())}function x(e,r){1&e&&h.Hb(0,"input",42)}function _(e,r){1&e&&(h.Lb(0,"app-spinner",41),h.oc(1,"Select Server First..."),h.Kb())}function C(e,r){1&e&&(h.Lb(0,"app-spinner",41),h.oc(1,"Fetching Server details..."),h.Kb())}function $(e,r){1&e&&h.Hb(0,"input",43)}function j(e,r){1&e&&(h.Lb(0,"app-spinner",41),h.oc(1,"Select Server First..."),h.Kb())}function A(e,r){1&e&&(h.Lb(0,"app-spinner",41),h.oc(1,"Fetching mapped profiles..."),h.Kb())}function E(e,r){if(1&e&&(h.Lb(0,"option",40),h.oc(1),h.Kb()),2&e){const e=r.$implicit;h.cc("value",e.key),h.wb(1),h.qc(" ",e.key," ")}}function k(e,r){if(1&e&&(h.Lb(0,"select",44),h.Lb(1,"option",16),h.oc(2,"Select a profile..."),h.Kb(),h.mc(3,E,2,2,"option",17),h.Xb(4,"keyvalue"),h.Kb()),2&e){const e=r.ngIf;h.wb(3),h.cc("ngForOf",h.Yb(4,1,e))}}function X(e,r){1&e&&(h.Lb(0,"app-spinner",41),h.oc(1,"Select process type First..."),h.Kb())}function G(e,r){if(1&e&&(h.Lb(0,"option",40),h.oc(1),h.Kb()),2&e){const e=r.$implicit;h.cc("value",e),h.wb(1),h.qc(" ",e," ")}}function Y(e,r){if(1&e&&(h.Lb(0,"select",45),h.Lb(1,"option",16),h.oc(2,"Select a process..."),h.Kb(),h.mc(3,G,2,2,"option",17),h.Kb()),2&e){const e=r.ngIf;h.wb(3),h.cc("ngForOf",e)}}function H(e,r){if(1&e){const e=h.Mb();h.Lb(0,"div",48),h.Lb(1,"div",5),h.Lb(2,"div",49),h.Hb(3,"textarea",50),h.Kb(),h.Lb(4,"div",51),h.Hb(5,"textarea",52),h.Kb(),h.Lb(6,"div",53),h.Lb(7,"i",54),h.Sb("click",function(){h.jc(e);const i=r.index;return h.Wb(3).deleteProcessInput(i)}),h.Kb(),h.Kb(),h.Kb(),h.Kb()}2&e&&h.cc("formGroupName",r.index)}function q(e,r){if(1&e&&(h.Lb(0,"div",5),h.Lb(1,"div",46),h.mc(2,H,8,1,"div",47),h.Kb(),h.Kb()),2&e){const e=h.Wb(2);h.wb(2),h.cc("ngForOf",e.formsArr.controls)}}const V=function(e,r){return{"form-valid":e,"form-invalid":r}};function U(e,r){if(1&e){const e=h.Mb();h.Lb(0,"div",3),h.Lb(1,"form",4),h.Lb(2,"div",5),h.Hb(3,"div",6),h.Lb(4,"div",7),h.Lb(5,"div",5),h.Lb(6,"div",8),h.Lb(7,"label",9),h.oc(8,"Trigger Name"),h.Kb(),h.Hb(9,"input",10),h.Kb(),h.Lb(10,"div",11),h.Lb(11,"div",12),h.Lb(12,"div",13),h.Lb(13,"label",14),h.oc(14,"Server Name"),h.Kb(),h.Lb(15,"select",15),h.Lb(16,"option",16),h.oc(17,"Select a server..."),h.Kb(),h.mc(18,O,2,2,"option",17),h.Kb(),h.Kb(),h.Lb(19,"div",18),h.Lb(20,"label",19),h.oc(21,"AssistEdge Version"),h.Kb(),h.mc(22,F,2,0,"app-spinner",20),h.Xb(23,"async"),h.mc(24,P,2,0,"app-spinner",20),h.Xb(25,"async"),h.Xb(26,"async"),h.mc(27,x,1,0,"input",21),h.Xb(28,"async"),h.Xb(29,"async"),h.Kb(),h.Lb(30,"div",22),h.Lb(31,"label",23),h.oc(32,"Listener URL"),h.Kb(),h.mc(33,_,2,0,"app-spinner",20),h.Xb(34,"async"),h.mc(35,C,2,0,"app-spinner",20),h.Xb(36,"async"),h.Xb(37,"async"),h.mc(38,$,1,0,"input",24),h.Xb(39,"async"),h.Xb(40,"async"),h.Kb(),h.Kb(),h.Kb(),h.Lb(41,"div",11),h.Lb(42,"div",25),h.Lb(43,"label",26),h.oc(44,"Profile Name"),h.Kb(),h.mc(45,j,2,0,"app-spinner",20),h.Xb(46,"async"),h.mc(47,A,2,0,"app-spinner",20),h.Xb(48,"async"),h.Xb(49,"async"),h.mc(50,k,5,3,"select",27),h.Xb(51,"async"),h.Xb(52,"async"),h.Kb(),h.Lb(53,"div",28),h.Lb(54,"label",29),h.oc(55,"Process Name"),h.Kb(),h.mc(56,X,2,0,"app-spinner",20),h.Xb(57,"async"),h.mc(58,Y,4,1,"select",30),h.Xb(59,"async"),h.Xb(60,"async"),h.Kb(),h.Lb(61,"div",31),h.Lb(62,"label",32),h.oc(63,"Expiration Time (in ms)"),h.Kb(),h.Hb(64,"input",33),h.Kb(),h.Kb(),h.Kb(),h.Lb(65,"div",34),h.Lb(66,"div",35),h.Lb(67,"div",36),h.oc(68,"Process Inputs"),h.Kb(),h.Kb(),h.Lb(69,"div",35),h.Lb(70,"button",37),h.Sb("click",function(){return h.jc(e),h.Wb().addProcessInput("","")}),h.oc(71," Add new Input "),h.Kb(),h.Kb(),h.Kb(),h.mc(72,q,3,1,"div",38),h.Xb(73,"async"),h.Lb(74,"div",31),h.Lb(75,"button",39),h.Sb("click",function(){return h.jc(e),h.Wb().AddTrigger()}),h.oc(76," Save "),h.Kb(),h.Kb(),h.Kb(),h.Hb(77,"div",6),h.Kb(),h.Kb(),h.Kb()}if(2&e){const e=r.ngIf,i=h.Wb();h.wb(1),h.cc("formGroup",i.createTriggerForm),h.wb(17),h.cc("ngForOf",e),h.wb(4),h.cc("ngIf",!h.Yb(23,18,i.selectedServerName$)),h.wb(2),h.cc("ngIf",h.Yb(25,20,i.selectedServerName$)&&!h.Yb(26,22,i.selectedServer$)),h.wb(3),h.cc("ngIf",h.Yb(28,24,i.selectedServerName$)&&h.Yb(29,26,i.selectedServer$)),h.wb(6),h.cc("ngIf",!h.Yb(34,28,i.selectedServerName$)),h.wb(2),h.cc("ngIf",h.Yb(36,30,i.selectedServerName$)&&!h.Yb(37,32,i.selectedServer$)),h.wb(3),h.cc("ngIf",h.Yb(39,34,i.selectedServerName$)&&h.Yb(40,36,i.selectedServer$)),h.wb(7),h.cc("ngIf",!h.Yb(46,38,i.selectedServerName$)),h.wb(2),h.cc("ngIf",h.Yb(48,40,i.selectedServerName$)&&!h.Yb(49,42,i.allMappings$)),h.wb(3),h.cc("ngIf",h.Yb(51,44,i.selectedServerName$)&&h.Yb(52,46,i.allMappings$)),h.wb(6),h.cc("ngIf",!h.Yb(57,48,i.selectedProfileName$)),h.wb(2),h.cc("ngIf",h.Yb(59,50,i.selectedServerName$)&&h.Yb(60,52,i.mappedProcesses$)),h.wb(12),h.cc("disabled",i.createTriggerForm.invalid)("ngClass",h.fc(56,V,!i.createTriggerForm.invalid,i.createTriggerForm.invalid)),h.wb(2),h.cc("ngIf",h.Yb(73,54,i.processDetails$)),h.wb(3),h.cc("disabled",i.createTriggerForm.invalid)("ngClass",h.fc(59,V,!i.createTriggerForm.invalid,i.createTriggerForm.invalid))}}function B(e,r){1&e&&(h.Lb(0,"app-spinner",55),h.oc(1),h.Kb()),2&e&&(h.cc("spinnerColor","#428bca")("spinnerSize","1.5rem"),h.wb(1),h.pc(" Fetching data from backend....."))}let D=(()=>{class e{constructor(e,r,i,t,o){this._router=e,this._apiService=r,this._formBuilder=i,this._serversService=t,this._triggersService=o}ngOnInit(){this.createTriggerForm=new f(this._formBuilder).InitForm(),this.allServers$=this._serversService.GetAllServers$(),this.selectedServerName$=this.createTriggerForm.controls.server.controls.serverName.valueChanges,this.selectedServer$=this.selectedServerName$.pipe(Object(s.a)(e=>{this.createTriggerForm.patchValue({profileName:""})}),Object(c.a)(500),Object(a.a)(),Object(b.a)(e=>""!==e),Object(l.a)(e=>this._serversService.GetServerByServerName(e)),Object(g.a)()),this.allMappings$=this.selectedServer$.pipe(Object(s.a)(e=>{this.deleteAllProcessInputs(),this.createTriggerForm.controls.server.patchValue(Object.assign({},e))}),Object(l.a)(e=>this._apiService.GetAllProfileToProcessMappings(e.serverName)),Object(g.a)()),this.selectedProfileName$=this.createTriggerForm.controls.profileName.valueChanges,this.mappedProcesses$=Object(n.a)([this.selectedProfileName$,this.allMappings$]).pipe(Object(s.a)(e=>{this.createTriggerForm.patchValue({processName:""}),this.deleteAllProcessInputs()}),Object(m.a)(([e,r])=>r[e]),Object(g.a)()),this.selectedProcessName$=this.createTriggerForm.controls.processName.valueChanges,this.processDetails$=Object(n.a)([this.selectedServer$,this.selectedProcessName$]).pipe(Object(s.a)(e=>this.deleteAllProcessInputs()),Object(l.a)(([e,r])=>this._apiService.GetAllDeployedProcessesWithInputParams(e.serverName,r)),Object(s.a)(e=>e.processInputs.forEach(e=>this.addProcessInput(e,""))),Object(g.a)())}get formsArr(){return this.createTriggerForm.get("processInputs")}addProcessInput(e,r){this.formsArr.push(new f(this._formBuilder).initProcessInputRows(e,r))}deleteProcessInput(e){this.formsArr.removeAt(e)}deleteAllProcessInputs(){if(this.formsArr.length>0)for(;0!==this.formsArr.length;)this.formsArr.removeAt(0)}AddTrigger(){this.addTriggerSubs=this._triggersService.AddTrigger(this.createTriggerForm.value).subscribe(e=>{this._router.navigate([u.a.getRoutePathByName("trigger-view-all")])},e=>{console.log(e),alert(e.message)})}ngOnDestroy(){this.addTriggerSubs&&this.addTriggerSubs.unsubscribe()}}return e.\u0275fac=function(r){return new(r||e)(h.Gb(o.f),h.Gb(y),h.Gb(p.d),h.Gb(I.a),h.Gb(S.a))},e.\u0275cmp=h.Ab({type:e,selectors:[["app-create-trigger"]],hostBindings:function(e,r){1&e&&h.Sb("beforeunload",function(){return r.ngOnDestroy()},!1,h.ic)},decls:5,vars:6,consts:[[1,"create-trigger"],["class","form-wrapper mt-3",4,"ngIf"],[3,"spinnerColor","spinnerSize",4,"ngIf"],[1,"form-wrapper","mt-3"],[3,"formGroup"],[1,"row"],[1,"col-md-1"],[1,"col-md-10"],[1,"form-group","triggerName"],["for","triggerName",1,"form-label","required"],["id","triggerName","name","triggerName","formControlName","triggerName",1,"form-control","highlight"],[1,"col-md-6"],["formGroupName","server"],[1,"form-group","serverName"],["for","serverName",1,"form-label","required"],["id","serverName","name","serverName","formControlName","serverName",1,"form-control","highlight"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","aeVersion"],["for","aeVersion",1,"form-label","required"],["class","form-control highlight","spinnerColor","#428bca",4,"ngIf"],["id","aeVersion","name","aeVersion","formControlName","aeVersion","class","form-control highlight",4,"ngIf"],[1,"form-group","listenerUrl"],["for","listenerUrl",1,"form-label","required"],["type","text","id","listenerUrl","formControlName","listenerUrl","class","form-control highlight",4,"ngIf"],[1,"form-group","profileName"],["for","profileName",1,"form-label","required"],["id","profileName","name","profileName","class","form-control highlight","formControlName","profileName",4,"ngIf"],[1,"form-group","processName"],["for","processName",1,"form-label","required"],["id","processName","name","processName","class","form-control highlight","formControlName","processName",4,"ngIf"],[1,"form-group"],["for","processExpirationTime",1,"form-label","required"],["step","50","type","number","id","processExpirationTime","formControlName","processExpirationTime","placeholder","Process expiration time in ms...",1,"form-control","highlight"],[1,"row","form-group"],[1,"col-md-6","col-sm-12"],[1,"form-heading"],["type","button",1,"btn","btn-success","pull-right",3,"disabled","ngClass","click"],["class","row",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled","ngClass","click"],[3,"value"],["spinnerColor","#428bca",1,"form-control","highlight"],["id","aeVersion","name","aeVersion","formControlName","aeVersion",1,"form-control","highlight"],["type","text","id","listenerUrl","formControlName","listenerUrl",1,"form-control","highlight"],["id","profileName","name","profileName","formControlName","profileName",1,"form-control","highlight"],["id","processName","name","processName","formControlName","processName",1,"form-control","highlight"],["formArrayName","processInputs",1,"form-group"],["class","form-group",3,"formGroupName",4,"ngFor","ngForOf"],[1,"form-group",3,"formGroupName"],[1,"col-sm-4"],["type","text","formControlName","name",1,"form-control","highlight"],[1,"col-sm-7"],["formControlName","value",1,"form-control","highlight"],[1,"col-sm-1"],["type","button",1,"fa","fa-remove","text-center",3,"click"],[3,"spinnerColor","spinnerSize"]],template:function(e,r){1&e&&(h.Lb(0,"div",0),h.mc(1,U,78,62,"div",1),h.Xb(2,"async"),h.mc(3,B,2,3,"app-spinner",2),h.Xb(4,"async"),h.Kb()),2&e&&(h.wb(1),h.cc("ngIf",h.Yb(2,2,r.allServers$)),h.wb(2),h.cc("ngIf",!h.Yb(4,4,r.allServers$)))},directives:[t.n,p.s,p.j,p.f,p.b,p.i,p.e,p.g,p.p,p.l,p.r,t.m,p.m,t.l,T.a,p.c],pipes:[t.b,t.h],styles:[""]}),e})();var W=i("rRiM"),M=i("Zmim");let R=(()=>{class e{transform(e,...r){return"number"==typeof e?e.toString():e.serverName||"NA"}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=h.Fb({name:"aeServerName",type:e,pure:!0}),e})(),z=(()=>{class e{constructor(e,r,i){this._router=e,this._triggersService=r,this._schedulesService=i,this.deletedTrigger=new h.n}ngOnInit(){}EditTrigger(e){this._triggersService.trigger=e,this._router.navigate([u.a.getRoutePathByName("trigger-home"),e.id,"edit"])}ViewTrigger(e){this._triggersService.trigger=e,this._router.navigate([u.a.getRoutePathByName("trigger-home"),e.id,"view"])}DeleteTrigger(e){confirm(`Do you want to delete the Trigger with name ${e.triggerName} ?\n\nThis will delete all the entities using this trigger i.e Schedules, Execution, etc.`)&&(this.deleteTriggerSubs=this._triggersService.DeleteTrigger(e.id).subscribe(e=>{this.deletedTrigger.emit(e)},e=>{console.log(e)}))}ExecuteTrigger(e){const r={id:0,status:"",occurOnceDateTime:null,recurringEndDate:null,recurringStartDate:null,recurringTime:null,recurringType:"Now",scheduleName:"Now",trigger:e.id,userName:JSON.parse(sessionStorage.getItem("userToken")||"").user.username};this.addScheduleSubs=this._schedulesService.AddSchedule(r).subscribe(e=>{this._router.navigate([u.a.getRoutePathByName("schedule-view"),"all"])},e=>{console.log(e),alert(e.message)})}ngOnDestroy(){this.deleteTriggerSubs&&this.deleteTriggerSubs.unsubscribe(),this.addScheduleSubs&&this.addScheduleSubs.unsubscribe()}}return e.\u0275fac=function(r){return new(r||e)(h.Gb(o.f),h.Gb(S.a),h.Gb(M.a))},e.\u0275cmp=h.Ab({type:e,selectors:[["app-trigger"]],inputs:{trigger:"trigger",triggerIndex:"triggerIndex"},outputs:{deletedTrigger:"deletedTrigger"},decls:43,vars:7,consts:[[1,"trigger"],[1,"table","table-hover"],["scope","col"],["scope","row"],[3,"click"],["aria-hidden","true",1,"bi","bi-eye-fill","primary"],["aria-hidden","true",1,"bi","bi-pencil-square","secondary"],["aria-hidden","true",1,"bi","bi-play-circle-fill","success"],["aria-hidden","true",1,"bi","bi-archive-fill","danger"]],template:function(e,r){1&e&&(h.Lb(0,"div",0),h.Lb(1,"table",1),h.Lb(2,"thead"),h.Lb(3,"tr"),h.Lb(4,"th",2),h.oc(5,"#"),h.Kb(),h.Lb(6,"th",2),h.oc(7,"Name"),h.Kb(),h.Lb(8,"th",2),h.oc(9,"Process"),h.Kb(),h.Lb(10,"th",2),h.oc(11,"Profile"),h.Kb(),h.Lb(12,"th",2),h.oc(13,"Server"),h.Kb(),h.Lb(14,"th",2),h.oc(15,"View"),h.Kb(),h.Lb(16,"th",2),h.oc(17,"Edit"),h.Kb(),h.Lb(18,"th",2),h.oc(19,"Run"),h.Kb(),h.Lb(20,"th",2),h.oc(21,"Delete"),h.Kb(),h.Kb(),h.Kb(),h.Lb(22,"tbody"),h.Lb(23,"tr"),h.Lb(24,"th",3),h.oc(25),h.Kb(),h.Lb(26,"td"),h.oc(27),h.Kb(),h.Lb(28,"td"),h.oc(29),h.Kb(),h.Lb(30,"td"),h.oc(31),h.Kb(),h.Lb(32,"td"),h.oc(33),h.Xb(34,"aeServerName"),h.Kb(),h.Lb(35,"td",4),h.Sb("click",function(){return r.ViewTrigger(r.trigger)}),h.Hb(36,"i",5),h.Kb(),h.Lb(37,"td",4),h.Sb("click",function(){return r.EditTrigger(r.trigger)}),h.Hb(38,"i",6),h.Kb(),h.Lb(39,"td",4),h.Sb("click",function(){return r.ExecuteTrigger(r.trigger)}),h.Hb(40,"i",7),h.Kb(),h.Lb(41,"td",4),h.Sb("click",function(){return r.DeleteTrigger(r.trigger)}),h.Hb(42,"i",8),h.Kb(),h.Kb(),h.Kb(),h.Kb(),h.Kb()),2&e&&(h.wb(25),h.pc(r.triggerIndex+1),h.wb(2),h.pc(r.trigger.triggerName),h.wb(2),h.pc(r.trigger.processName),h.wb(2),h.pc(r.trigger.profileName),h.wb(2),h.pc(h.Yb(34,5,r.trigger.server)))},pipes:[R],styles:[".trigger[_ngcontent-%COMP%]{margin:15px 30px;background-color:#eee;transition-duration:.3s;border-radius:25px!important;box-shadow:4px 3px 8px 0 grey;border:3px solid var(--color-secondary)}.trigger[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:4px 3px 11px 6px grey}"]}),e})(),J=(()=>{class e{constructor(e){this._commonService=e}transform(e){return this._commonService.searchBoxTypedKeywords="",Object(n.a)([e,this._commonService.searchBoxKeywords$]).pipe(Object(m.a)(([e,r])=>{let i=[];return""==r?i=e:e.forEach(e=>{const t=Object.values(e);for(var o in t)if((null==t[o]?"":t[o]).toString().toUpperCase().includes(r.toUpperCase())){i.push(e);break}}),i}))}}return e.\u0275fac=function(r){return new(r||e)(h.Gb(W.a))},e.\u0275pipe=h.Fb({name:"filterAeTriggers",type:e,pure:!0}),e})();function Z(e,r){if(1&e){const e=h.Mb();h.Lb(0,"app-trigger",8),h.Sb("deletedTrigger",function(r){return h.jc(e),h.Wb(3).onTriggerDelete(r)}),h.Kb()}if(2&e){const e=r.index;h.cc("trigger",r.$implicit)("triggerIndex",e)}}function Q(e,r){1&e&&(h.Lb(0,"h4"),h.oc(1," No Trigger found as per the searched keyword. Try with some different keyword. "),h.Kb())}function ee(e,r){1&e&&(h.Lb(0,"h4"),h.oc(1," No Trigger found to display "),h.Kb())}function re(e,r){if(1&e&&(h.Jb(0),h.mc(1,Z,1,2,"app-trigger",4),h.Lb(2,"div",5),h.Hb(3,"div",6),h.Lb(4,"div",7),h.mc(5,Q,2,0,"h4",3),h.Xb(6,"json"),h.Xb(7,"json"),h.mc(8,ee,2,0,"h4",3),h.Xb(9,"json"),h.Kb(),h.Hb(10,"div",6),h.Kb(),h.Ib()),2&e){const e=r.ngIf,i=h.Wb().ngIf;h.wb(1),h.cc("ngForOf",e),h.wb(4),h.cc("ngIf",!("[]"==h.Yb(6,3,i))&&"[]"==h.Yb(7,5,e)),h.wb(3),h.cc("ngIf","[]"==h.Yb(9,7,i))}}function ie(e,r){if(1&e&&(h.Lb(0,"div",2),h.mc(1,re,11,9,"ng-container",3),h.Xb(2,"async"),h.Xb(3,"filterAeTriggers"),h.Kb()),2&e){const e=h.Wb();h.wb(1),h.cc("ngIf",h.Yb(2,1,h.Yb(3,3,e.allTriggers$)))}}function te(e,r){1&e&&(h.Lb(0,"app-spinner",9),h.oc(1),h.Kb()),2&e&&(h.cc("spinnerColor","#428bca")("spinnerSize","1.5rem"),h.wb(1),h.pc(" Fetching data from backend....."))}function oe(e,r){1&e&&(h.Lb(0,"app-spinner",9),h.oc(1),h.Kb()),2&e&&(h.cc("spinnerColor","#428bca")("spinnerSize","1.5rem"),h.wb(1),h.pc(" Checking for search keyword from search box....."))}let ne=(()=>{class e{constructor(e,r){this._commonService=e,this._triggerService=r}ngOnInit(){this.allTriggers$=this._triggerService.GetAllTriggers()}onTriggerDelete(e){this.ngOnInit()}ngOnDestroy(){this._commonService.searchBoxTypedKeywords=""}}return e.\u0275fac=function(r){return new(r||e)(h.Gb(W.a),h.Gb(S.a))},e.\u0275cmp=h.Ab({type:e,selectors:[["app-list-trigger"]],decls:8,vars:13,consts:[["class","list-trigger",4,"ngIf"],[3,"spinnerColor","spinnerSize",4,"ngIf"],[1,"list-trigger"],[4,"ngIf"],[3,"trigger","triggerIndex","deletedTrigger",4,"ngFor","ngForOf"],[1,"no-matching-trigger","row"],[1,"col-md-2"],[1,"col-md-8"],[3,"trigger","triggerIndex","deletedTrigger"],[3,"spinnerColor","spinnerSize"]],template:function(e,r){1&e&&(h.mc(0,ie,4,5,"div",0),h.Xb(1,"async"),h.mc(2,te,2,3,"app-spinner",1),h.Xb(3,"async"),h.mc(4,oe,2,3,"app-spinner",1),h.Xb(5,"async"),h.Xb(6,"async"),h.Xb(7,"filterAeTriggers")),2&e&&(h.cc("ngIf",h.Yb(1,3,r.allTriggers$)),h.wb(2),h.cc("ngIf",!h.Yb(3,5,r.allTriggers$)),h.wb(2),h.cc("ngIf",h.Yb(5,7,r.allTriggers$)&&!h.Yb(6,9,h.Yb(7,11,r.allTriggers$))))},directives:[t.n,t.m,z,T.a],pipes:[t.b,J,t.g],styles:[".list-trigger[_ngcontent-%COMP%]   .no-matching-trigger[_ngcontent-%COMP%]{margin-top:30px}"]}),e})();function se(e,r){1&e&&(h.Lb(0,"app-spinner",35),h.oc(1,"Fetching Trigger data..."),h.Kb())}function ce(e,r){1&e&&(h.Lb(0,"app-spinner",35),h.oc(1,"Fetching Trigger data..."),h.Kb())}function ae(e,r){1&e&&(h.Lb(0,"app-spinner",35),h.oc(1,"Fetching Trigger data..."),h.Kb())}function be(e,r){1&e&&(h.Lb(0,"app-spinner",35),h.oc(1,"Fetching Trigger data..."),h.Kb())}const le=function(e,r){return{"form-valid":e,"form-invalid":r}};function ge(e,r){if(1&e){const e=h.Mb();h.Lb(0,"div",11),h.Lb(1,"button",36),h.Sb("click",function(){return h.jc(e),h.Wb(3).addProcessInput("","")}),h.oc(2," Add new Input "),h.Kb(),h.Kb()}if(2&e){const e=h.Wb(3);h.wb(1),h.cc("disabled",e.viewOrEditTriggerForm.invalid)("ngClass",h.fc(2,le,!e.viewOrEditTriggerForm.invalid,e.viewOrEditTriggerForm.invalid))}}function me(e,r){if(1&e){const e=h.Mb();h.Lb(0,"div",37),h.Lb(1,"div",29),h.Lb(2,"div",38),h.Hb(3,"textarea",39),h.Kb(),h.Lb(4,"div",40),h.Hb(5,"textarea",41),h.Kb(),h.Lb(6,"div",42),h.Lb(7,"button",43),h.Sb("click",function(){h.jc(e);const i=r.index;return h.Wb(3).deleteProcessInput(i)}),h.Kb(),h.Kb(),h.Kb(),h.Kb()}if(2&e){const e=r.index,i=h.Wb(2).ngIf;h.cc("formGroupName",e),h.wb(3),h.cc("readonly","view"==i.mode),h.wb(2),h.cc("readonly","view"==i.mode),h.wb(2),h.cc("disabled","view"==i.mode)}}function pe(e,r){if(1&e){const e=h.Mb();h.Lb(0,"div",8),h.Lb(1,"button",44),h.Sb("click",function(){h.jc(e);const r=h.Wb().ngIf;return h.Wb(2).UpdateTrigger(r.id)}),h.oc(2," Update "),h.Kb(),h.Kb()}if(2&e){const e=h.Wb(3);h.wb(1),h.cc("disabled",e.viewOrEditTriggerForm.invalid)("ngClass",h.fc(2,le,!e.viewOrEditTriggerForm.invalid,e.viewOrEditTriggerForm.invalid))}}function de(e,r){if(1&e&&(h.Lb(0,"div",3),h.Lb(1,"form",4),h.Lb(2,"div",5),h.Hb(3,"div",6),h.Lb(4,"div",7),h.Lb(5,"div",5),h.Lb(6,"div",8),h.Lb(7,"label",9),h.oc(8,"Trigger Name"),h.Kb(),h.Hb(9,"input",10),h.Kb(),h.Lb(10,"div",11),h.Lb(11,"div",12),h.Lb(12,"div",13),h.Lb(13,"label",14),h.oc(14,"Server Name"),h.Kb(),h.Hb(15,"input",15),h.Kb(),h.Lb(16,"div",16),h.Lb(17,"label",17),h.oc(18,"AssistEdge Version"),h.Kb(),h.mc(19,se,2,0,"app-spinner",18),h.Hb(20,"input",19),h.Kb(),h.Lb(21,"div",20),h.Lb(22,"label",21),h.oc(23,"Listener URL"),h.Kb(),h.mc(24,ce,2,0,"app-spinner",18),h.Hb(25,"input",22),h.Kb(),h.Kb(),h.Kb(),h.Lb(26,"div",11),h.Lb(27,"div",8),h.Lb(28,"label",23),h.oc(29,"Profile Name"),h.Kb(),h.mc(30,ae,2,0,"app-spinner",18),h.Hb(31,"input",24),h.Kb(),h.Lb(32,"div",8),h.Lb(33,"label",25),h.oc(34,"Process Name"),h.Kb(),h.mc(35,be,2,0,"app-spinner",18),h.Hb(36,"input",26),h.Kb(),h.Lb(37,"div",8),h.Lb(38,"label",27),h.oc(39,"Expiration Time (in ms)"),h.Kb(),h.Hb(40,"input",28),h.Kb(),h.Kb(),h.Kb(),h.Lb(41,"div",29),h.Lb(42,"div",11),h.Lb(43,"div",30),h.oc(44,"Process Inputs"),h.Kb(),h.Kb(),h.mc(45,ge,3,5,"div",31),h.Kb(),h.Lb(46,"div",5),h.Lb(47,"div",32),h.mc(48,me,8,4,"div",33),h.Kb(),h.Kb(),h.mc(49,pe,3,5,"div",34),h.Kb(),h.Hb(50,"div",6),h.Kb(),h.Kb(),h.Kb()),2&e){const e=r.ngIf,i=h.Wb().ngIf,t=h.Wb();h.wb(1),h.cc("formGroup",t.viewOrEditTriggerForm),h.wb(8),h.cc("readonly","view"==i.mode),h.wb(10),h.cc("ngIf",!e),h.wb(5),h.cc("ngIf",!e),h.wb(6),h.cc("ngIf",!e),h.wb(5),h.cc("ngIf",!e),h.wb(5),h.cc("readonly","view"==i.mode),h.wb(5),h.cc("ngIf","edit"==i.mode),h.wb(3),h.cc("ngForOf",t.formsArr.controls),h.wb(1),h.cc("ngIf",!("view"==i.mode))}}function fe(e,r){if(1&e&&(h.Lb(0,"div",1),h.mc(1,de,51,10,"div",2),h.Xb(2,"async"),h.Kb()),2&e){const e=h.Wb();h.wb(1),h.cc("ngIf",h.Yb(2,1,e.trigger$))}}const ue=[{path:"",redirectTo:"view-all",pathMatch:"full"},{path:"create",component:D},{path:":id/:mode",component:(()=>{class e{constructor(e,r,i,t){this._formBuilder=e,this._triggersService=r,this._router=i,this._route=t}ngOnInit(){this.routeParams$=this._route.params,this.viewOrEditTriggerForm=new f(this._formBuilder).InitForm(),this.trigger$=this._triggersService.trigger$.pipe(Object(s.a)(e=>{if(null==e?void 0:e.id){this.viewOrEditTriggerForm.patchValue(e);for(let r=0;r<e.processInputs.length;r++){let i=e.processInputs[r];this.addProcessInput(i.name,i.value)}this.viewOrEditTriggerForm.controls.server.patchValue(Object.assign({},e.server))}else this._router.navigate([u.a.getRoutePathByName("trigger-view-all")])}))}get formsArr(){return this.viewOrEditTriggerForm.get("processInputs")}addProcessInput(e,r){this.formsArr.push(new f(this._formBuilder).initProcessInputRows(e,r))}deleteProcessInput(e){this.formsArr.removeAt(e)}UpdateTrigger(e){console.log(this.viewOrEditTriggerForm.value),this._triggersService.UpdateTrigger(e,this.viewOrEditTriggerForm.value).subscribe(e=>{console.log(e),this._router.navigate([u.a.getRoutePathByName("trigger-view-all")])})}}return e.\u0275fac=function(r){return new(r||e)(h.Gb(p.d),h.Gb(S.a),h.Gb(o.f),h.Gb(o.a))},e.\u0275cmp=h.Ab({type:e,selectors:[["app-view-or-edit-trigger"]],decls:2,vars:3,consts:[["class","schedule-proceses",4,"ngIf"],[1,"schedule-proceses"],["class","form-wrapper mt-3",4,"ngIf"],[1,"form-wrapper","mt-3"],[3,"formGroup"],[1,"row"],[1,"col-md-1"],[1,"col-md-10"],[1,"form-group"],["for","trigger",1,"form-label","required"],["type","text","id","triggerName","formControlName","triggerName",1,"form-control","highlight",3,"readonly"],[1,"col-md-6"],["formGroupName","server"],[1,"form-group","server"],["for","serverName",1,"form-label","required"],["readonly","","type","text","id","serverName","name","serverName","formControlName","serverName",1,"form-control","highlight"],[1,"form-group","aeVersion"],["for","aeVersion",1,"form-label","required"],["class","form-control highlight",4,"ngIf"],["readonly","","id","aeVersion","name","aeVersion","formControlName","aeVersion",1,"form-control","highlight"],[1,"form-group","listenerUrl"],["for","listenerUrl",1,"form-label","required"],["readonly","","type","text","id","listenerUrl","formControlName","listenerUrl",1,"form-control","highlight"],["for","profileName",1,"form-label","required"],["readonly","","type","text","id","profileName","name","profileName","formControlName","profileName",1,"form-control","highlight"],["for","processName",1,"form-label","required"],["readonly","","id","processName","name","processName","formControlName","processName",1,"form-control","highlight"],["for","processExpirationTime",1,"form-label","required"],["step","50","type","number","id","processExpirationTime","formControlName","processExpirationTime","placeholder","Process expiration time in ms...",1,"form-control","highlight",3,"readonly"],[1,"row","form-group"],[1,"form-heading"],["class","col-md-6",4,"ngIf"],["formArrayName","processInputs",1,"form-group"],["class","form-group",3,"formGroupName",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],[1,"form-control","highlight"],["type","button",1,"btn","btn-success","pull-right",3,"disabled","ngClass","click"],[1,"form-group",3,"formGroupName"],[1,"col-sm-4"],["type","text","formControlName","name",1,"form-control","highlight",3,"readonly"],[1,"col-sm-7"],["formControlName","value",1,"form-control","highlight",3,"readonly"],[1,"col-sm-1"],[1,"btn","btn-danger","fa","fa-remove","text-center",3,"disabled","click"],["type","submit",1,"btn","btn-primary",3,"disabled","ngClass","click"]],template:function(e,r){1&e&&(h.mc(0,fe,3,3,"div",0),h.Xb(1,"async")),2&e&&h.cc("ngIf",h.Yb(1,1,r.routeParams$))},directives:[t.n,p.s,p.j,p.f,p.b,p.i,p.e,p.g,p.m,p.c,t.m,T.a,t.l],pipes:[t.b],styles:[""]}),e})()},{path:"view-all",component:ne}];let he=(()=>{class e{}return e.\u0275mod=h.Eb({type:e}),e.\u0275inj=h.Db({factory:function(r){return new(r||e)},imports:[[o.i.forChild(ue)],o.i]}),e})();var ve=i("PCNd");let we=(()=>{class e{}return e.\u0275mod=h.Eb({type:e}),e.\u0275inj=h.Db({factory:function(r){return new(r||e)},imports:[[t.c,o.i,p.n,he,ve.a],o.i]}),e})()}}]);